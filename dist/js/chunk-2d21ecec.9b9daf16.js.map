{"version":3,"sources":["webpack:///./src/views/DispatchedWork/AbnormalReport.vue?85af","webpack:///src/views/DispatchedWork/AbnormalReport.vue","webpack:///./src/views/DispatchedWork/AbnormalReport.vue?7d53","webpack:///./src/views/DispatchedWork/AbnormalReport.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","title","visible","AbnormalReport","width","append-to-body","on","update:visible","$event","ref","model","from","label","prop","callback","$$v","$set","_l","FRemark","key","_v","_s","readonly","staticStyle","text-align","type","click","onSubmit","staticRenderFns","AbnormalReportvue_type_script_lang_js_","data","loading","FID","FSrcID","FBiller","FTime","FRecoverTime","FNote","FRemarkOptions","methods","show","obj","Detailed","hide","_this2","_this","Date","Object","mission","then","res","console","log","$notify","message","$emit","catch","_this3","status","result","fBiller","fTime","$moment","format","fRemark","fRecoverTime","fNote","$refs","resetFields","DispatchedWork_AbnormalReportvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d21ecec.9b9daf16.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"title\":\"异常报告\",\"visible\":_vm.AbnormalReport,\"width\":\"30%\",\"append-to-body\":\"true\"},on:{\"update:visible\":function($event){_vm.AbnormalReport=$event}}},[_c('el-form',{ref:\"from\",attrs:{\"model\":_vm.from}},[_c('el-form-item',{attrs:{\"label\":\"异常原因：\",\"prop\":\"FRemark\"}},[_c('el-radio-group',{model:{value:(_vm.from.FRemark),callback:function ($$v) {_vm.$set(_vm.from, \"FRemark\", $$v)},expression:\"from.FRemark\"}},_vm._l((_vm.FRemarkOptions),function(FRemark){return _c('el-radio',{key:FRemark,attrs:{\"label\":FRemark,\"name\":\"FRemark\"}},[_vm._v(_vm._s(FRemark))])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"报告人：\",\"prop\":\"FBiller\"}},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.from.FBiller),callback:function ($$v) {_vm.$set(_vm.from, \"FBiller\", $$v)},expression:\"from.FBiller\"}})],1),_c('el-form-item',{attrs:{\"label\":\"报告时间：\",\"prop\":\"FTime\"}},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.from.FTime),callback:function ($$v) {_vm.$set(_vm.from, \"FTime\", $$v)},expression:\"from.FTime\"}})],1),_c('el-form-item',{attrs:{\"label\":\"恢复时间：\",\"prop\":\"FRecoverTime\"}},[_c('el-input',{attrs:{\"readonly\":true},model:{value:(_vm.from.FRecoverTime),callback:function ($$v) {_vm.$set(_vm.from, \"FRecoverTime\", $$v)},expression:\"from.FRecoverTime\"}})],1),_c('el-form-item',{staticStyle:{\"text-align\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onSubmit('YC')}}},[_vm._v(\"异常\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.onSubmit('HF')}}},[_vm._v(\"恢复\")]),_c('el-button',{on:{\"click\":function($event){_vm.AbnormalReport = false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-dialog title=\"异常报告\" :visible.sync=\"AbnormalReport\" width=\"30%\" v-loading=\"loading\" append-to-body=\"true\">\r\n    <el-form ref=\"from\" :model=\"from\">\r\n      <el-form-item label=\"异常原因：\" prop=\"FRemark\">\r\n        <el-radio-group v-model=\"from.FRemark\">\r\n          <el-radio\r\n            v-for=\"FRemark in FRemarkOptions\"\r\n            :label=\"FRemark\"\r\n            :key=\"FRemark\"\r\n            name=\"FRemark\"\r\n          >{{FRemark}}</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"报告人：\" prop=\"FBiller\">\r\n        <el-input v-model=\"from.FBiller\" :readonly=\"true\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"报告时间：\" prop=\"FTime\">\r\n        <el-input v-model=\"from.FTime\" :readonly=\"true\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"恢复时间：\" prop=\"FRecoverTime\">\r\n        <el-input v-model=\"from.FRecoverTime\" :readonly=\"true\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item style=\"text-align:right;\">\r\n        <el-button type=\"danger\" @click=\"onSubmit('YC')\">异常</el-button>\r\n        <el-button type=\"success\" @click=\"onSubmit('HF')\">恢复</el-button>\r\n        <el-button @click=\"AbnormalReport = false\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n//\r\nimport { GetAll, DataAddOrPUT } from '@/api/mission'\r\nexport default {\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      AbnormalReport: false,\r\n      from: {\r\n        // 异常\r\n        FID: '',\r\n        FSrcID: '',\r\n        FBiller: '',\r\n        FTime: '',\r\n        FRemark: '',\r\n        FRecoverTime: '',\r\n        FNote: ''\r\n      },\r\n      FRemarkOptions: [\r\n        '人员请假',\r\n        '设备异常',\r\n        '材料异常',\r\n        '人员调用',\r\n        '其他原因'\r\n      ]\r\n    }\r\n  }, // 声明方法\r\n  methods: {\r\n    show (obj) {\r\n      this.AbnormalReport = true\r\n      this.Detailed(obj)\r\n    },\r\n    hide () {\r\n      this.AbnormalReport = false\r\n    },\r\n    // 提交\r\n    onSubmit (type) {\r\n      var _this = this\r\n      switch (type) {\r\n        case 'YC': {\r\n          this.from.FTime = new Date()\r\n          break\r\n        }\r\n        case 'HF': {\r\n          this.from.FRecoverTime = new Date()\r\n          break\r\n        }\r\n        default: {\r\n          break\r\n        }\r\n      }\r\n      this.loading = true\r\n      DataAddOrPUT('ICException/CreateAndUpdate', this.from)\r\n        .then(res => {\r\n          console.log(res)\r\n          this.$notify({\r\n            title: '系统提示',\r\n            message: '修改成功',\r\n            type: 'success'\r\n          })\r\n          _this.$emit('addSuccess', { FID: this.from.FSrcID })\r\n          this.hide()\r\n          this.loading = false\r\n        })\r\n        .catch(function () {\r\n          this.loading = false\r\n        })\r\n    },\r\n    // 明细\r\n    Detailed (obj) {\r\n      var _this = this\r\n      this.loading = true\r\n      this.from.FID = obj.FID\r\n      this.from.FSrcID = obj.FSrcID\r\n      // console.log(obj)\r\n      GetAll('ICException/Get', obj)\r\n        .then(res => {\r\n          // console.log(res); // 返回对象\r\n          if (res.status === 200) {\r\n            // console.log(200); // 返回对象\r\n            var result = res.data.result\r\n            // 异常\r\n            if (result != null) {\r\n              this.from.FBiller = result.fBiller\r\n              this.from.FTime =result.fTime === null\r\n                  ? ''\r\n                  : _this.$moment(result.fTime).format('YYYY-MM-DD HH:mm')\r\n              this.from.FRemark = result.fRemark\r\n              this.from.FRecoverTime =  result.fRecoverTime === null\r\n                  ? ''\r\n                  : _this.$moment(result.fRecoverTime).format('YYYY-MM-DD HH:mm')\r\n              this.from.FNote = result.fNote\r\n            } else {\r\n              _this.$refs['from'].resetFields()\r\n            }\r\n          }\r\n          this.loading = false\r\n        })\r\n        .catch(function () {\r\n          this.loading = false\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbnormalReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbnormalReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AbnormalReport.vue?vue&type=template&id=a5354b7c&\"\nimport script from \"./AbnormalReport.vue?vue&type=script&lang=js&\"\nexport * from \"./AbnormalReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}