(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ecec"],{d6ae:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"异常报告",visible:e.AbnormalReport,width:"30%","append-to-body":"true"},on:{"update:visible":function(t){e.AbnormalReport=t}}},[o("el-form",{ref:"from",attrs:{model:e.from}},[o("el-form-item",{attrs:{label:"异常原因：",prop:"FRemark"}},[o("el-radio-group",{model:{value:e.from.FRemark,callback:function(t){e.$set(e.from,"FRemark",t)},expression:"from.FRemark"}},e._l(e.FRemarkOptions,function(t){return o("el-radio",{key:t,attrs:{label:t,name:"FRemark"}},[e._v(e._s(t))])}),1)],1),o("el-form-item",{attrs:{label:"报告人：",prop:"FBiller"}},[o("el-input",{attrs:{readonly:!0},model:{value:e.from.FBiller,callback:function(t){e.$set(e.from,"FBiller",t)},expression:"from.FBiller"}})],1),o("el-form-item",{attrs:{label:"报告时间：",prop:"FTime"}},[o("el-input",{attrs:{readonly:!0},model:{value:e.from.FTime,callback:function(t){e.$set(e.from,"FTime",t)},expression:"from.FTime"}})],1),o("el-form-item",{attrs:{label:"恢复时间：",prop:"FRecoverTime"}},[o("el-input",{attrs:{readonly:!0},model:{value:e.from.FRecoverTime,callback:function(t){e.$set(e.from,"FRecoverTime",t)},expression:"from.FRecoverTime"}})],1),o("el-form-item",{staticStyle:{"text-align":"right"}},[o("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.onSubmit("YC")}}},[e._v("异常")]),o("el-button",{attrs:{type:"success"},on:{click:function(t){return e.onSubmit("HF")}}},[e._v("恢复")]),o("el-button",{on:{click:function(t){e.AbnormalReport=!1}}},[e._v("取消")])],1)],1)],1)},i=[],n=o("c4bb"),l={data:function(){return{loading:!1,AbnormalReport:!1,from:{FID:"",FSrcID:"",FBiller:"",FTime:"",FRemark:"",FRecoverTime:"",FNote:""},FRemarkOptions:["人员请假","设备异常","材料异常","人员调用","其他原因"]}},methods:{show:function(e){this.AbnormalReport=!0,this.Detailed(e)},hide:function(){this.AbnormalReport=!1},onSubmit:function(e){var t=this,o=this;switch(e){case"YC":this.from.FTime=new Date;break;case"HF":this.from.FRecoverTime=new Date;break;default:break}this.loading=!0,Object(n["b"])("ICException/CreateAndUpdate",this.from).then(function(e){console.log(e),t.$notify({title:"系统提示",message:"修改成功",type:"success"}),o.$emit("addSuccess",{FID:t.from.FSrcID}),t.hide(),t.loading=!1}).catch(function(){this.loading=!1})},Detailed:function(e){var t=this,o=this;this.loading=!0,this.from.FID=e.FID,this.from.FSrcID=e.FSrcID,Object(n["e"])("ICException/Get",e).then(function(e){if(200===e.status){var r=e.data.result;null!=r?(t.from.FBiller=r.fBiller,t.from.FTime=null===r.fTime?"":o.$moment(r.fTime).format("YYYY-MM-DD HH:mm"),t.from.FRemark=r.fRemark,t.from.FRecoverTime=null===r.fRecoverTime?"":o.$moment(r.fRecoverTime).format("YYYY-MM-DD HH:mm"),t.from.FNote=r.fNote):o.$refs["from"].resetFields()}t.loading=!1}).catch(function(){this.loading=!1})}}},a=l,m=o("2877"),s=Object(m["a"])(a,r,i,!1,null,null,null);t["default"]=s.exports}}]);
//# sourceMappingURL=chunk-2d21ecec.9b9daf16.js.map