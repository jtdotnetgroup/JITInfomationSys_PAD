(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b21d1"],{2371:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fullscreen"},[i("tableHeader",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"header",attrs:{title:t.tableHeader.title,items:t.tableHeader.tabItems}}),i("el-table",{attrs:{data:t.DataSource,border:"",stripe:""}},[t._l(t.column,function(t){return i("el-table-column",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],key:t.id,attrs:{prop:t.id,label:t.label,width:t.width,align:t.align}})}),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.funmenu,function(n){return i("el-button",{directives:[{name:"show",rawName:"v-show",value:n.show&&"已检验"!==e.row.FStatus||"打印"===n.title,expression:"item.show && (scope.row.FStatus!=='已检验')||item.title==='打印'"}],key:n.num,staticStyle:{"text-align":"center"},attrs:{plain:"",round:"",type:n.type},on:{click:function(i){return t.Handle(n.num,e.$index,e.row)}}},[t._v(t._s(n.title))])})}}])})],2)],1)},a=[],l=(i("ac6a"),i("c4bb")),r=[{id:"FBillNo",label:"检验单号",width:200,sort:!1,align:"center"},{id:"Step",label:"工序",width:80,sort:!1,align:"center"},{id:"BatchNum",label:"批次号",width:200,sort:!1,align:"center"},{id:"FStatus",label:"状态",width:100,sort:!1,align:"center"},{id:"FAuxQty",label:"汇报数",width:100,sort:!1,align:"center"},{id:"FCheckAuxQty",label:"检验数",width:100,sort:!1,align:"center"},{id:"FPassAuxQty",label:"合格数",width:100,sort:!1,align:"center"},{id:"FFailAuxQty",label:"不合格",width:100,sort:!1,align:"center"},{id:"FYSQty",label:"余数",width:100,sort:!1,align:"center"},{id:"FBillTime",label:"汇报日期",width:170,sort:!1,align:"center"},{id:"FInspector",label:"检验员",width:100,sort:!1,align:"center"},{id:"FInspectTime",label:"检验时间",width:170,sort:!1,align:"center"},{id:"FNote",label:"说明",sort:!1,align:"center"}],o={data:function(){return{tableHeader:{title:"质量检验明细",tabItems:[{title:"质量检验明细列表",value:"receive",count:0}]},tabvalue:"receive",loading:!1,column:r,funmenu:[{type:"",num:0,title:"质检明细",show:!0,ShowWhe:["report"]},{type:"",num:1,title:"打印",show:!0,ShowWhe:["report"]}],DataSource:[]}},components:{tableHeader:function(){return i.e("chunk-23968558").then(i.bind(null,"9962"))}},methods:{ShowLod:function(){this.loading=!0},HideLod:function(){this.loading=!1},ShowMenu:function(){this.funmenu.forEach(function(t){t.show=t.ShowWhe.indexOf("1")>=0})},Handle:function(t,e,i){var n=this,a=i;switch(console.log(e,i),a.Step=this.$route.query.Step,a.FItemID=this.$route.query.FItemID,a.FOperID=this.$route.query.FOperID,a.FBillNo=i.FBillNo,a.F_102=this.$route.query.F_102,a.BatchNum=i.BatchNum,t){case 0:n.$router.push({name:"IPQCReport",query:a});break;case 1:this.Printing(i.FID);break;default:break}},Printing:function(t){var e={FID:[t]};Object(l["f"])("Printing/GetAllPrinting",e).then(function(t){t.data.success&&winForm.Preview(JSON.stringify(t.data.result[0]))}).catch(function(){}).finally(function(){})},GetDataSource:function(t){var e=this,i=this;i.ShowLod();var n="ICMOInspectBill/GetList";Object(l["e"])(n,t).then(function(t){if(t.data.success){var n=[],a=t.data.result,l=e.$route.query.Step;a.forEach(function(t){var e={};e.Step=l,e.FBillNo=t.fBillNo,e.FStatus=1===t.fStatus?"已检验":"待检验",e.FAuxQty=t.fAuxQty,e.FCheckAuxQty=t.fCheckAuxQty,e.FPassAuxQty=t.fPassAuxQty,e.FFailAuxQty=t.fFailAuxQty,e.FYSQty=t.fysQty,e.FBillTime=null===t.fBillTime?"":i.$moment(t.fBillTime).format("YYYY-MM-DD HH:mm"),e.FInspector=t.fInspector,e.FInspectTime=null===t.fInspectTime?"":i.$moment(t.fInspectTime).format("YYYY-MM-DD HH:mm"),e.FNote=t.fNote,e.FID=t.fid,e.BatchNum=t.batchNum,n.push(e)}),i.DataSource=n,i.tableHeader.tabItems.forEach(function(t){console.log(t.value),t.count=t.value===i.tabvalue?n.length:t.count})}i.HideLod()}).catch(function(){i.HideLod()})}},mounted:function(){this.GetDataSource({ICMODispBillID:this.$route.query.FID})}},u=o,s=i("2877"),c=Object(s["a"])(u,n,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0b21d1.3111d3c2.js.map