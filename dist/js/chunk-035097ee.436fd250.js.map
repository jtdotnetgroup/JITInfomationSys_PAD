{"version":3,"sources":["webpack:///./src/views/IPQC/Report.vue?c1b7","webpack:///src/views/IPQC/Report.vue","webpack:///./src/views/IPQC/Report.vue?d3a9","webpack:///./src/views/IPQC/Report.vue","webpack:///./src/lib/computeLable.js","webpack:///./src/views/IPQC/Report.vue?e5b3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","items","tabItems","on","tabChange","handelTabChange","staticStyle","background-color","padding","span","line-height","font-size","_v","disabled","placeholder","model","value","$route","query","callback","$$v","$set","expression","from","printType","label","text-align","padding-right","plain","click","Cancel","type","OnSubmit","directives","name","rawName","gutter","_l","tmp","index2","key","overflow","max-height","_s","title1","title2","item","index","class","style","typecolor","$event","DelNum","numcolor","id","DigitalOpen","IsAddDel","num","AddNum","ref","DigitalCallback","staticRenderFns","Reportvue_type_script_lang_js_","data","loading","count","tabvalue","FID","FBillNo","FItemID","Step","BatchNum","汇报数","FOperID","AllCol","ColKey","Col","F_102","TB_BadItemRelation","watch","components","tableHeader","__webpack_require__","e","then","bind","Digital","methods","forEach","IsTD","SetNum","FFailAuxQty","filter","t","FCheckAuxQty","BZS","total","length","sel","f","obj","width","$refs","show","hide","GetTB_BadItemRelation","_this","Object","mission","res","result","keyword","push","catch","finally","Detailed","$router","go","$message","showClose","message","icmoInspectBill","fid","fOperID","fAuxQty","fCheckAuxQty","fPassAuxQty","fFailAuxQty","fFailAuxQtyP","fFailAuxQtyM","fPassAuxQtyP","fPassAuxQtyM","fNote","fYSQty","icQualityRptsList","FAuxQty","FRemark","FNote","success","Printing","_this2","fItemID","Bill","obj1","obj2","obj3","GetTB_BadItemRelation_SeticQualityRptsList","IsShow","fDeleted","FName","fName","nums","indexof","sizeChange","currentChange","_this3","printData","Labels","PrintType","printEntries","computeLable","bill","FBillTime","winForm","Preview","JSON","stringify","created","computed","columnHeader","tableColumns","ZJHB","IPQC_Reportvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","d","ComputePrintLable","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","n","proDate","packQty","printQty","Math","ceil","lastQty","list","i","parse","Qty","labelNum","moment","format","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Report_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Report_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-035097ee.436fd250.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fullscreen\"},[_c('tableHeader',{staticClass:\"header\",attrs:{\"title\":_vm.title,\"items\":_vm.tabItems},on:{\"tabChange\":_vm.handelTabChange}}),_c('el-row',{staticStyle:{\"background-color\":\"white\",\"padding\":\"20px 0px\"}},[_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\",staticStyle:{\"line-height\":\"40px\",\"font-size\":\"20px\"}},[_vm._v(\"检验单号：\")])])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\"},[_c('el-input',{attrs:{\"disabled\":\"disabled\",\"placeholder\":\"请输检验单号\"},model:{value:( this.$route.query.FBillNo),callback:function ($$v) {_vm.$set(this.$route.query, \"FBillNo\", $$v)},expression:\" this.$route.query.FBillNo\"}})],1)])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\",staticStyle:{\"line-height\":\"40px\",\"font-size\":\"20px\"}},[_vm._v(\"工序：\")])])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\"},[_c('el-input',{attrs:{\"disabled\":\"disabled\",\"placeholder\":\"请输入工序\"},model:{value:(_vm.from.Step),callback:function ($$v) {_vm.$set(_vm.from, \"Step\", $$v)},expression:\"from.Step\"}})],1)])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\",staticStyle:{\"line-height\":\"40px\",\"font-size\":\"20px\"}},[_vm._v(\"批号：\")])])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\"},[_c('el-input',{attrs:{\"disabled\":\"disabled\",\"placeholder\":\"请输入批号\"},model:{value:(_vm.from.BatchNum),callback:function ($$v) {_vm.$set(_vm.from, \"BatchNum\", $$v)},expression:\"from.BatchNum\"}})],1)])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\",staticStyle:{\"line-height\":\"40px\",\"font-size\":\"20px\"}},[_vm._v(\"标签类型：\")])])]),_c('el-col',{attrs:{\"span\":2}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"demo-input-suffix\"},[_c('el-select',{attrs:{\"placeholder\":\"\"},model:{value:(_vm.printType),callback:function ($$v) {_vm.printType=$$v},expression:\"printType\"}},[_c('el-option',{attrs:{\"label\":\"半成品\",\"value\":\"bcp\"}}),_c('el-option',{attrs:{\"label\":\"成品\",\"value\":\"cp\"}})],1)],1)])]),_c('el-col',{attrs:{\"span\":6}},[_c('div',{staticClass:\"grid-content\",staticStyle:{\"text-align\":\"right\",\"padding-right\":\"15px\"}},[_c('el-button',{attrs:{\"plain\":\"\"},on:{\"click\":_vm.Cancel}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.OnSubmit}},[_vm._v(\"提交\")])],1)])],1),_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"bbtbt\",attrs:{\"gutter\":0}},_vm._l((_vm.AllCol),function(tmp,index2){return _c('el-col',{key:index2,staticClass:\"btbt\",staticStyle:{\"overflow\":\"auto\",\"max-height\":\"70vh\"},attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('el-row',{staticClass:\"text-bule\",attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content btt btr\"},[_vm._v(_vm._s(tmp.title1))])]),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content btt\"},[_vm._v(_vm._s(tmp.title2))])])],1)],1),_vm._l((tmp.Col),function(item,index){return _c('div',{key:index,staticClass:\"grid-content\"},[_c('el-row',{class:(index%2 == 0)? 'text-gray':'text-white',attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":12}},[_c('div',{class:(index%2 == 0)? 'grid-content bt btr':'grid-content bt btrw',style:('color:'+item.typecolor)},[_vm._v(_vm._s(item.type))])]),_c('el-col',{attrs:{\"span\":12}},[_c('div',{staticClass:\"grid-content bt\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.IsAddDel),expression:\"item.IsAddDel\"}],staticClass:\"el-icon-minus icon\",on:{\"click\":function($event){return _vm.DelNum(item.key)}}}),_c('span',{style:('color:'+item.numcolor),attrs:{\"id\":item.key},on:{\"click\":function($event){return _vm.DigitalOpen(item,item.IsAddDel)}}},[_vm._v(_vm._s(item.num))]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.IsAddDel),expression:\"item.IsAddDel\"}],staticClass:\"el-icon-plus icon\",on:{\"click\":function($event){return _vm.AddNum(item.key)}}})])])],1)],1)})],2)}),1),_c('Digital',{ref:\"Digital\",on:{\"DigitalCallback\":_vm.DigitalCallback}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"fullscreen\">\r\n    <!-- 栏目 -->\r\n    <tableHeader class=\"header\" :title=\"title\" :items=\"tabItems\" @tabChange=\"handelTabChange\" />\r\n    <!-- 输入框 -->\r\n    <el-row style=\"background-color: white;\r\n    padding: 20px 0px;\">\r\n      <el-col :span=\"2\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\" style=\"line-height:40px;font-size: 20px;\">检验单号：</div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\">\r\n            <el-input v-model=\" this.$route.query.FBillNo\" disabled=\"disabled\" placeholder=\"请输检验单号\"></el-input>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\" style=\"line-height:40px;font-size: 20px;\">工序：</div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\">\r\n            <el-input v-model=\"from.Step\" disabled=\"disabled\" placeholder=\"请输入工序\"></el-input>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\" style=\"line-height:40px;font-size: 20px;\">批号：</div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\">\r\n            <el-input v-model=\"from.BatchNum\" disabled=\"disabled\" placeholder=\"请输入批号\"></el-input>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\" style=\"line-height:40px;font-size: 20px;\">标签类型：</div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"2\">\r\n        <div class=\"grid-content\">\r\n          <div class=\"demo-input-suffix\">\r\n            <el-select v-model=\"printType\" placeholder>\r\n              <el-option label=\"半成品\" value=\"bcp\"></el-option>\r\n              <el-option label=\"成品\" value=\"cp\"></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <div class=\"grid-content\" style=\"text-align: right;padding-right: 15px;\">\r\n          <el-button @click=\"Cancel\" plain>取消</el-button>\r\n          <el-button @click=\"OnSubmit\" type=\"success\" plain>提交</el-button>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 所有项目列表 -->\r\n    <el-row :gutter=\"0\" class=\"bbtbt\" v-loading=\"loading\">\r\n      <el-col\r\n        :span=\"8\"\r\n        class=\"btbt\"\r\n        v-for=\"(tmp,index2) in AllCol\"\r\n        :key=\"index2\"\r\n        style=\"overflow: auto; max-height: 70vh;\"\r\n      >\r\n        <!-- 项目名称以及数量 -->\r\n        <div class=\"grid-content\">\r\n          <el-row :gutter=\"0\" class=\"text-bule\">\r\n            <el-col :span=\"12\">\r\n              <div class=\"grid-content btt btr\">{{tmp.title1}}</div>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <div class=\"grid-content btt\">{{tmp.title2}}</div>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <!-- 项目明细 -->\r\n        <div class=\"grid-content\" v-for=\"(item, index) in tmp.Col\" :key=\"index\">\r\n          <el-row :gutter=\"0\" :class=\"(index%2 == 0)? 'text-gray':'text-white'\">\r\n            <el-col :span=\"12\">\r\n              <div :class=\"(index%2 == 0)? 'grid-content bt btr':'grid-content bt btrw'\" :style=\"'color:'+item.typecolor\">{{item.type}}</div>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n              <div class=\"grid-content bt\">\r\n                <i class=\"el-icon-minus icon\" v-show=\"item.IsAddDel\" @click=\"DelNum(item.key)\"></i>\r\n                <span :style=\"'color:'+item.numcolor\" :id=\"item.key\" @click=\"DigitalOpen(item,item.IsAddDel)\">{{item.num}}</span>\r\n                <i class=\"el-icon-plus icon\" v-show=\"item.IsAddDel\" @click=\"AddNum(item.key)\"></i>\r\n              </div>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 打开数字键盘 以及接受回调 -->\r\n    <Digital ref=\"Digital\" @DigitalCallback=\"DigitalCallback\" />\r\n  </div>\r\n</template>\r\n<script>\r\n// 数据处理\r\nimport { GetMx, DataAddOrPUT, GetAll, GetAll2 } from \"@/api/mission\";\r\nimport { ComputePrintLable } from \"@/lib/computeLable\";\r\n// 派工单页面\r\nexport default {\r\n  name: \"IPQC\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      title: \"质检汇报\",\r\n      tabItems: [{ title: \"质检汇报\", value: \"ZJHB\", count: 0 }],\r\n      tabvalue: \"ZJHB\",\r\n      printType: \"\",\r\n      from: {\r\n        FID: 0,\r\n        FBillNo: \"\",\r\n        FItemID: 0,\r\n        Step: \"\",\r\n        BatchNum: \"\",\r\n        汇报数: 0,\r\n        FOperID: 0\r\n      },\r\n      AllCol: [\r\n        {\r\n          ColKey: \"col1\",\r\n          title1: \"项目\",\r\n          title2: \"数量\",\r\n          Col: [\r\n            {\r\n              key: \"FAuxQty\",\r\n              type: \"汇报数\",\r\n              num: 0,\r\n              typecolor: \"back\",\r\n              numcolor: \"back\",\r\n              IsAddDel: false\r\n            },\r\n            {\r\n              key: \"FCheckAuxQty\",\r\n              type: \"检验数\",\r\n              num: 0,\r\n              typecolor: \"back\",\r\n              numcolor: \"back\",\r\n              IsAddDel: true\r\n            },\r\n            {\r\n              key: \"FPassAuxQty\",\r\n              type: \"合格数\",\r\n              num: 0,\r\n              typecolor: \"back\",\r\n              numcolor: \"back\",\r\n              IsAddDel: false\r\n            },\r\n            {\r\n              key: \"FFailAuxQty\",\r\n              type: \"不合格\",\r\n              num: 0,\r\n              typecolor: \"red\",\r\n              numcolor: \"red\",\r\n              IsAddDel: true\r\n            },\r\n            {\r\n              key: \"BZS\",\r\n              type: \"单位包装数\",\r\n              num: this.$route.query.F_102,\r\n              typecolor: \"red\",\r\n              numcolor: \"red\",\r\n              IsAddDel: false\r\n            },\r\n            {\r\n              key: \"FYSQty\",\r\n              type: \"余数\",\r\n              num: 0,\r\n              typecolor: \"red\",\r\n              numcolor: \"red\",\r\n              IsAddDel: false\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          ColKey: \"col2\",\r\n          title1: \"不良判断\",\r\n          title2: \"数量\",\r\n          Col: [\r\n            {\r\n              key: \"FFailAuxQtyP\",\r\n              type: \"工废\",\r\n              num: 0,\r\n              typecolor: \"back\",\r\n              numcolor: \"back\",\r\n              IsAddDel: true\r\n            },\r\n            {\r\n              key: \"FFailAuxQtyM\",\r\n              type: \"料废\",\r\n              num: 0,\r\n              typecolor: \"back\",\r\n              numcolor: \"back\",\r\n              IsAddDel: true\r\n            },\r\n            {\r\n              key: \"FPassAuxQtyP\",\r\n              type: \"工回\",\r\n              num: 0,\r\n              typecolor: \"red\",\r\n              numcolor: \"red\",\r\n              IsAddDel: true\r\n            },\r\n            {\r\n              key: \"FPassAuxQtyM\",\r\n              type: \"料回\",\r\n              num: 0,\r\n              typecolor: \"red\",\r\n              numcolor: \"red\",\r\n              IsAddDel: true\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      TB_BadItemRelation: []\r\n    };\r\n  },\r\n  watch: {},\r\n  components: {\r\n    tableHeader: () => import(\"@/components/tablePageHeader.vue\"),\r\n    Digital: () => import(\"@/components/Common/Digital.vue\")\r\n  },\r\n  // 所有方法\r\n  methods: {\r\n    // 增加\r\n    AddNum(key) {\r\n      this.AllCol.forEach(tmp => {\r\n        tmp.Col.forEach(item => {\r\n          if (item.key === key) {\r\n            item.num++;\r\n          }\r\n        });\r\n      });\r\n      this.IsTD(key);\r\n    },\r\n    // 删除\r\n    DelNum(key) {\r\n      this.AllCol.forEach(tmp => {\r\n        tmp.Col.forEach(item => {\r\n          if (item.key === key) {\r\n            item.num--;\r\n          }\r\n        });\r\n      });\r\n      this.IsTD(key);\r\n    },\r\n    SetNum(key, num) {\r\n      this.AllCol.forEach(tmp => {\r\n        tmp.Col.forEach(item => {\r\n          if (item.key === key) {\r\n            item.num = num;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    IsTD (key) {\r\n      // 不合格数\r\n      var FFailAuxQty = this.AllCol[0].Col.filter(t => {\r\n        return t.key === 'FFailAuxQty'\r\n      })[0].num\r\n      if (\r\n        key === \"FCheckAuxQty\" ||\r\n        key === \"FPassAuxQty\" ||\r\n        key === \"FFailAuxQty\" \r\n        \r\n      ) {\r\n        // 检验数\r\n        var FCheckAuxQty = this.AllCol[0].Col.filter(t => {\r\n          return t.key === \"FCheckAuxQty\";\r\n        })[0].num;\r\n        // 合格数\r\n        // var FPassAuxQty = this.AllCol[0].Col.filter(t => {\r\n        //   return t.key === 'FPassAuxQty'\r\n        // })[0].num\r\n        // 单位包装数\r\n        var BZS = this.AllCol[0].Col.filter(t => {\r\n          return t.key === \"BZS\";\r\n        })[0].num;\r\n\r\n        this.SetNum(\"FYSQty\", (FCheckAuxQty * 1 - FFailAuxQty * 1) % BZS);\r\n        this.SetNum(\"FPassAuxQty\", FCheckAuxQty * 1 - FFailAuxQty * 1);\r\n      }\r\n\r\n      // 不合格数量大于等于不良项目总和，不能小于\r\n      var tmp = this.AllCol.filter(item => item.ColKey === 'col3')\r\n      var total = 0\r\n      if (tmp.length > 0) {\r\n        if (tmp[0] !== null) {\r\n          tmp[0].Col.forEach(t => {\r\n            total += t.num\r\n          })\r\n          var sel = tmp[0].Col.filter(f=>f.key+''===key+'')\r\n          if(sel.length!==0){\r\n             this.SetNum('FFailAuxQty', total)\r\n              this.IsTD('FFailAuxQty') // 模拟点击不合格数量\r\n             return\r\n          }\r\n          if (FFailAuxQty < total) {\r\n            this.SetNum('FFailAuxQty', total)\r\n            this.IsTD('FFailAuxQty') // 模拟点击不合格数量\r\n          }else{\r\n             this.SetNum('FFailAuxQty', FFailAuxQty)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 打开键盘\r\n    DigitalOpen(value, IsAddDel) {\r\n      if (IsAddDel) {\r\n        var obj = {\r\n          width: \"30%\",\r\n          num: value.num,\r\n          title: value.type,\r\n          placeholder: \"当前数量\" + value.num,\r\n          key: value.key\r\n        };\r\n        this.$refs.Digital.show(obj);\r\n      }\r\n    },\r\n    // 键盘回调\r\n    DigitalCallback(obj) {\r\n      if (obj.key == \"FCheckAuxQty\") {\r\n        if (obj.num > this.AllCol[0].Col[0].num) {\r\n          obj.num = this.AllCol[0].Col[0].num;\r\n        }\r\n      }\r\n\r\n      this.AllCol.forEach(item => {\r\n        item.Col.forEach(tmp => {\r\n          if (tmp.key === obj.key) {\r\n            tmp.num = obj.num * 1;\r\n          }\r\n        });\r\n      });\r\n      this.$refs.Digital.hide();\r\n      this.IsTD(obj.key);\r\n    },\r\n    // 获取不良项目列表\r\n    GetTB_BadItemRelation() {\r\n      var _this = this;\r\n      _this.loading = true;\r\n      // 0 false ,1 true\r\n      GetAll(\"TB_BadItemRelation/GetAll\", {})\r\n        .then(res => {\r\n          var result = res.data.result;\r\n\r\n          result.forEach(item => {\r\n            item.keyword=\"BadItemRelation\"\r\n          });\r\n\r\n          // console.log(result)\r\n          _this.TB_BadItemRelation = result;\r\n          _this.AllCol[2].Col.push();\r\n        })\r\n        .catch(function() {})\r\n        .finally(function() {\r\n          _this.loading = false;\r\n          _this.Detailed();\r\n        });\r\n    },\r\n    // 返回上一层\r\n    Cancel() {\r\n      this.$router.go(-1); // 返回上一层\r\n    },\r\n    // 提交\r\n    OnSubmit() {\r\n      var _this = this;\r\n\r\n      if (_this.from.BatchNum.length === 0) {\r\n        _this.$message({\r\n          showClose: true,\r\n          message: \"批号不能为空！\",\r\n          type: \"warning\"\r\n        });\r\n      }\r\n\r\n      if (!this.printType) {\r\n        this.$message({\r\n          message: \"标签类型未选择\",\r\n          type: \"error\"\r\n        });\r\n        return;\r\n      }\r\n\r\n      // _this.loading = true;\r\n      var obj = {\r\n        icmoInspectBill: {\r\n          fid: _this.from.FID,\r\n          fOperID: _this.from.FOperID,\r\n          fAuxQty: _this.AllCol[0].Col[0].num,\r\n          fCheckAuxQty: _this.AllCol[0].Col[1].num,\r\n          fPassAuxQty: _this.AllCol[0].Col[2].num,\r\n          fFailAuxQty: _this.AllCol[0].Col[3].num,\r\n          fFailAuxQtyP: _this.AllCol[1].Col[0].num,\r\n          fFailAuxQtyM: _this.AllCol[1].Col[1].num,\r\n          fPassAuxQtyP: _this.AllCol[1].Col[2].num,\r\n          fPassAuxQtyM: _this.AllCol[1].Col[3].num,\r\n          fNote: \"\",\r\n          fYSQty: this.$route.query.F_102 // 后台特殊处理\r\n        },\r\n        icQualityRptsList: []\r\n      };\r\n      if (_this.AllCol.length > 2) {\r\n        _this.AllCol[2].Col.forEach(item => {\r\n          obj.icQualityRptsList.push({\r\n            FID: 0,\r\n            FItemID: item.key,\r\n            FAuxQty: item.num,\r\n            FRemark: \"\",\r\n            FNote: \"\"\r\n          });\r\n        });\r\n      }\r\n      // console.log(obj)\r\n      // return;\r\n      DataAddOrPUT(\"ICMOInspectBill/ICMODispBillSave\", obj)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            _this.$message({\r\n              message: \"提交成功\",\r\n              type: \"success\"\r\n            });\r\n            _this.Printing();\r\n            _this.Cancel();\r\n          }\r\n        })\r\n        .catch(function() {})\r\n        .finally(() => {\r\n          _this.loading = false;\r\n        });\r\n    },\r\n    // 获取明细\r\n    Detailed() {\r\n      var _this = this;\r\n      _this.loading = true;\r\n      var obj = {\r\n        fid: this.from.FID,\r\n        fItemID: this.from.FItemID,\r\n        fOperID: this.from.FOperID\r\n      };\r\n      GetMx(\"ICMOInspectBill/ICMOInspectBillDetailed\", obj)\r\n        .then(res => {\r\n          // console.log(res);\r\n          if (res.data.success) {\r\n            var result = res.data.result;\r\n            var Bill = result.icmoInspectBill;\r\n            var icQualityRptsList = result.icQualityRptsList;\r\n            if (Bill.fAuxQty * 1 === 0) {\r\n              Bill.fAuxQty = _this.from.汇报数 * 1;\r\n            }\r\n            var obj1 = {\r\n              ColKey: \"col1\",\r\n              title1: \"项目\",\r\n              title2: \"数量\",\r\n              Col: [\r\n                {\r\n                  key: \"FAuxQty\",\r\n                  type: \"汇报数\",\r\n                  num: Bill.fAuxQty * 1,\r\n                  typecolor: \"back\",\r\n                  numcolor: \"back\",\r\n                  IsAddDel: false\r\n                },\r\n                {\r\n                  key: \"FCheckAuxQty\",\r\n                  type: \"检验数\",\r\n                  num: Bill.fCheckAuxQty * 1,\r\n                  typecolor: \"back\",\r\n                  numcolor: \"back\",\r\n                  IsAddDel: true\r\n                },\r\n                {\r\n                  key: \"FPassAuxQty\",\r\n                  type: \"合格数\",\r\n                  num: Bill.fPassAuxQty * 1,\r\n                  typecolor: \"back\",\r\n                  numcolor: \"back\",\r\n                  IsAddDel: false\r\n                },\r\n                {\r\n                  key: \"FFailAuxQty\",\r\n                  type: \"不合格\",\r\n                  num: Bill.fFailAuxQty * 1,\r\n                  typecolor: \"red\",\r\n                  numcolor: \"red\",\r\n                  IsAddDel: true\r\n                },\r\n                {\r\n                  key: \"BZS\",\r\n                  type: \"单位包装数\",\r\n                  num: this.$route.query.F_102,\r\n                  typecolor: \"red\",\r\n                  numcolor: \"red\",\r\n                  IsAddDel: false\r\n                },\r\n                {\r\n                  key: \"FYSQty\",\r\n                  type: \"余数\",\r\n                  num: 0,\r\n                  typecolor: \"red\",\r\n                  numcolor: \"red\",\r\n                  IsAddDel: false\r\n                }\r\n              ]\r\n            };\r\n            //\r\n            var obj2 = {\r\n              ColKey: \"col2\",\r\n              title1: \"不良判断\",\r\n              title2: \"数量\",\r\n              Col: [\r\n                {\r\n                  key: \"FFailAuxQtyP\",\r\n                  type: \"工废\",\r\n                  num: Bill.fFailAuxQtyP * 1,\r\n                  typecolor: \"back\",\r\n                  numcolor: \"back\",\r\n                  IsAddDel: true\r\n                },\r\n                {\r\n                  key: \"FFailAuxQtyM\",\r\n                  type: \"料废\",\r\n                  num: Bill.fFailAuxQtyM * 1,\r\n                  typecolor: \"back\",\r\n                  numcolor: \"back\",\r\n                  IsAddDel: true\r\n                },\r\n                {\r\n                  key: \"FPassAuxQtyP\",\r\n                  type: \"工回\",\r\n                  num: Bill.fPassAuxQtyP * 1,\r\n                  typecolor: \"red\",\r\n                  numcolor: \"red\",\r\n                  IsAddDel: true\r\n                },\r\n                {\r\n                  key: \"FPassAuxQtyM\",\r\n                  type: \"料回\",\r\n                  num: Bill.fPassAuxQtyM * 1,\r\n                  typecolor: \"red\",\r\n                  numcolor: \"red\",\r\n                  IsAddDel: true\r\n                }\r\n              ]\r\n            };\r\n            //\r\n            var obj3 = {\r\n              ColKey: \"col3\",\r\n              title1: \"项目\",\r\n              title2: \"数量\",\r\n              Col: []\r\n            };\r\n            // 后台一起返回\r\n            // icQualityRptsList.forEach(tmp => {\r\n            //   if(_this.TB_BadItemRelation tmp.fItemID)\r\n            //   obj3.Col.push({\r\n            //     key: tmp.fItemID,\r\n            //     type: tmp.fName,\r\n            //     num: tmp.fAuxQty,\r\n            //     typecolor: \"back\",\r\n            //     numcolor: \"back\",\r\n            //     IsAddDel: true\r\n            //   });\r\n            // });\r\n            if (_this.TB_BadItemRelation.length === 0) {\r\n              this.GetTB_BadItemRelation_SeticQualityRptsList(\r\n                icQualityRptsList,\r\n                obj3\r\n              );\r\n            } else {\r\n              _this.TB_BadItemRelation.forEach(tmp => {\r\n                var IsShow = !tmp.fDeleted;\r\n                var FItemID = tmp.fid;\r\n                var FName = tmp.fName;\r\n                var FAuxQty = 0;\r\n                icQualityRptsList.forEach(item => {\r\n                  if (item.fItemID === tmp.fid) {\r\n                    IsShow = true;\r\n                    FAuxQty = item.fAuxQty;\r\n                  }\r\n                });\r\n                if (IsShow) {\r\n                  obj3.Col.push({\r\n                    key: FItemID,\r\n                    type: FName,\r\n                    num: FAuxQty,\r\n                    typecolor: \"back\",\r\n                    numcolor: \"back\",\r\n                    IsAddDel: true,\r\n                    keyword:tmp.keyword\r\n                  });\r\n                }\r\n              });\r\n            }\r\n            // console.log(_this.TB_BadItemRelation)\r\n            _this.AllCol = [];\r\n            _this.AllCol = [obj1, obj2, obj3];\r\n            var nums = 0;\r\n            _this.AllCol.forEach(e => {\r\n              e.Col.forEach(tmp => {\r\n                nums++;\r\n              });\r\n            });\r\n            _this.tabItems.forEach(item => {\r\n              item.count = item.value === _this.tabvalue ? nums : item.count;\r\n            });\r\n          }\r\n          _this.loading = false;\r\n        })\r\n        .catch(function() {\r\n          _this.loading = false;\r\n        });\r\n    },\r\n    // 遍历不良项目\r\n    GetTB_BadItemRelation_SeticQualityRptsList(icQualityRptsList, obj3) {\r\n      var _this = this;\r\n      if (_this.AllCol.length > 2) {\r\n        return;\r\n      }\r\n      _this.loading = true;\r\n      // 0 false ,1 true\r\n      GetAll(\"TB_BadItemRelation/GetAll\", {})\r\n        .then(res => {\r\n          var result = res.data.result;\r\n          _this.TB_BadItemRelation = result;\r\n          _this.TB_BadItemRelation.forEach(tmp => {\r\n            var IsShow = tmp.fDeleted;\r\n            var FItemID = tmp.fid;\r\n            var FName = tmp.fName;\r\n            var FAuxQty = 0;\r\n            icQualityRptsList.forEach(item => {\r\n              if (item.fItemID === tmp.fid) {\r\n                IsShow = true;\r\n                FAuxQty = item.fAuxQty;\r\n              }\r\n            });\r\n            if (IsShow) {\r\n              obj3.Col.push({\r\n                key: FItemID,\r\n                type: FName,\r\n                num: FAuxQty,\r\n                typecolor: \"back\",\r\n                numcolor: \"back\",\r\n                IsAddDel: true\r\n              });\r\n            }\r\n          });\r\n          if (_this.AllCol.indexof(obj3) >= 0) {\r\n          } else {\r\n            _this.AllCol.push(obj3);\r\n          }\r\n          var nums = 0;\r\n          _this.AllCol.forEach(e => {\r\n            e.Col.forEach(tmp => {\r\n              nums++;\r\n            });\r\n          });\r\n          _this.tabItems.forEach(item => {\r\n            item.count = item.value === _this.tabvalue ? nums : item.count;\r\n          });\r\n        })\r\n        .catch(function() {\r\n          _this.loading = false;\r\n        });\r\n    },\r\n    //\r\n    handelTabChange(value) {},\r\n    sizeChange(value) {},\r\n    currentChange(value) {},\r\n    // 打印\r\n    Printing() {\r\n      var obj = { FID: [this.$route.query.FID] };\r\n\r\n      GetAll2(\"Printing/GetAllPrinting\", obj)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            var printData=res.data.result[0];\r\n            const result = {};\r\n            result.Labels = res.data.result[0]\r\n            result.PrintType = this.printType;\r\n            result.printEntries=ComputePrintLable(printData,this.bill.FBillTime)\r\n            winForm.Preview(JSON.stringify(result));\r\n          }\r\n        })\r\n        .catch(() => {})\r\n        .finally(() => {});\r\n    }\r\n  },\r\n  // 页面渲染前 执行\r\n  created: function() {\r\n    this.from.FID = this.$route.query.FID;\r\n    this.from.FItemID = this.$route.query.FItemID;\r\n    this.from.Step = this.$route.query.Step;\r\n    this.from.汇报数 = this.$route.query.FAuxQty;\r\n    this.from.FOperID = this.$route.query.FOperID;\r\n    this.from.BatchNum = this.$route.query.BatchNum;\r\n    this.from.FBillNo = this.$route.query.FBillNo;\r\n    this.GetTB_BadItemRelation();\r\n    // this.Printing();\r\n  },\r\n  //\r\n  computed: {\r\n    columnHeader() {\r\n      switch (this.tabvalue) {\r\n        case \"ZJHB\": {\r\n          return this.tableColumns.ZJHB;\r\n        }\r\n      }\r\n      return \"\";\r\n    },\r\n    bill(){\r\n      return this.$route.query\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n.el-row :last-child {\r\n  margin-bottom: 0;\r\n}\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n.bg-purple-dark {\r\n  background: #99a9bf;\r\n}\r\n.bg-purple {\r\n  background: #d3dce6;\r\n}\r\n.bg-purple-light {\r\n  background: #e5e9f2;\r\n}\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n.row-bg {\r\n  padding: 10px 0;\r\n  background-color: #f9fafc;\r\n}\r\n.el-button {\r\n  padding: 12px 60px;\r\n}\r\n.demo-input-suffix {\r\n  text-align: right;\r\n}\r\n.btt {\r\n  color: white;\r\n  border-radius: 0px;\r\n  padding: 15px 20px;\r\n  font-size: 25px;\r\n}\r\n.bt {\r\n  border-radius: 0px;\r\n  padding: 15px 20px;\r\n  font-size: 25px;\r\n  line-height: 35px;\r\n}\r\n.btg {\r\n  background-color: rgb(228, 228, 228);\r\n  border-radius: 0px;\r\n  padding: 15px 20px;\r\n  font-size: 25px;\r\n}\r\n.btr {\r\n  border-right: 1px solid white;\r\n}\r\n.btrw {\r\n  border-right: 1px solid rgb(242, 242, 242);\r\n}\r\n.btbt {\r\n  padding: 0px 10px;\r\n}\r\n.bbtbt {\r\n  padding: 15px;\r\n  background-color: rgb(242, 242, 242);\r\n}\r\n.text-bule {\r\n  background-color: rgb(51, 153, 204);\r\n}\r\n.text-gray {\r\n  background-color: rgb(228, 228, 228);\r\n}\r\n.text-white {\r\n  background-color: white;\r\n}\r\n.fullscreen {\r\n  background-color: rgb(242, 242, 242);\r\n}\r\n.icon {\r\n  cursor: pointer;\r\n  position: relative;\r\n  top: 5px;\r\n}\r\n.el-icon-minus {\r\n  float: left;\r\n}\r\n.el-icon-plus {\r\n  float: right;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Report.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Report.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Report.vue?vue&type=template&id=31642d40&\"\nimport script from \"./Report.vue?vue&type=script&lang=js&\"\nexport * from \"./Report.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Report.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import moment from 'moment'\r\n\r\nexport function ComputePrintLable (printData, proDate) {\r\n  let { packQty, printQty } = printData\r\n  let count = Math.ceil(printQty / packQty)\r\n  let lastQty = printQty % packQty\r\n  const list = []\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    let item = JSON.parse(JSON.stringify(printData))\r\n\r\n    item.Qty = (i === count - 1) ? lastQty : packQty\r\n    item.printQty = item.Qty\r\n    item.labelNum = i + 1\r\n    item.proDate = moment(proDate).format('YYYY-MM-DD')\r\n\r\n    if (i === count - 1 && lastQty === 0) {\r\n      item.printQty = packQty\r\n    }\r\n\r\n    list.push(\r\n      item\r\n    )\r\n  }\r\n\r\n  return list\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Report.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Report.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}