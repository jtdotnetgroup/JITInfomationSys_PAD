{"version":3,"sources":["webpack:///./src/views/Stock/index.vue?2f8c","webpack:///src/views/Stock/index.vue","webpack:///./src/views/Stock/index.vue?5a42","webpack:///./src/views/Stock/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","items","tabItems","on","tabChange","handelTabChange","data","tabledata","border","stripe","_l","col","key","id","prop","label","width","ref","PageSize","pageSize","PageIndex","currentPage","TotalNum","totalNum","Refresh","GetData","RefreshPage","staticRenderFns","columns","sort","Stockvue_type_script_lang_js_","name","totalPage","tabvalue","value","count","components","tableHeader","__webpack_require__","e","then","bind","Paging","methods","sizeChange","currentChange","_this2","_this","loading","$loading","lock","text","spinner","background","obj","Sorting","SkipCount","MaxResultCount","Object","mission","res","result","totalCount","TableList","forEach","item","TabaleObj","仓库","仓位","物料编码","物料名称","规格型号","单位","辅助属性","批号","库存数量","push","close","catch","computed","columnHeader","tableColumns","KCCX","mounted","views_Stockvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAyB,CAAAF,EAAA,eAAoBE,YAAA,SAAAC,MAAA,CAA4BC,MAAAR,EAAAQ,MAAAC,MAAAT,EAAAU,UAAuCC,GAAA,CAAKC,UAAAZ,EAAAa,mBAAiCT,EAAA,YAAiBG,MAAA,CAAOO,KAAAd,EAAAe,UAAAC,OAAA,GAAAC,OAAA,KAA8CjB,EAAAkB,GAAAlB,EAAA,iBAAAmB,GAAoC,OAAAf,EAAA,mBAA6BgB,IAAAD,EAAAE,GAAAd,MAAA,CAAkBe,KAAAH,EAAAE,GAAAE,MAAAJ,EAAAI,MAAAC,MAAAL,EAAAK,WAAqD,GAAApB,EAAA,UAAkBqB,IAAA,SAAAlB,MAAA,CAAoBmB,SAAA1B,EAAA2B,SAAAC,UAAA5B,EAAA6B,YAAAC,SAAA9B,EAAA+B,UAA4EpB,GAAA,CAAKqB,QAAAhC,EAAAiC,QAAAC,YAAAlC,EAAAkC,gBAAqD,IAC1nBC,EAAA,2BCqCAC,EAAA,CACA,CAAAf,GAAA,KAAAE,MAAA,KAAAC,MAAA,IAAAa,MAAA,GACA,CAAAhB,GAAA,KAAAE,MAAA,KAAAC,MAAA,GAAAa,MAAA,GACA,CAAAhB,GAAA,OAAAE,MAAA,OAAAC,MAAA,IAAAa,MAAA,GACA,CAAAhB,GAAA,OAAAE,MAAA,OAAAc,MAAA,GACA,CAAAhB,GAAA,OAAAE,MAAA,OAAAC,MAAA,IAAAa,MAAA,GACA,CAAAhB,GAAA,KAAAE,MAAA,KAAAC,MAAA,IAAAa,MAAA,GACA,CAAAhB,GAAA,OAAAE,MAAA,OAAAC,MAAA,IAAAa,MAAA,GACA,CAAAhB,GAAA,KAAAE,MAAA,KAAAC,MAAA,IAAAa,MAAA,GACA,CAAAhB,GAAA,OAAAE,MAAA,OAAAC,MAAA,IAAAa,MAAA,IAGAC,EAAA,CACAC,KAAA,QACAzB,KAFA,WAGA,OACAC,UAAA,GACAc,YAAA,EACAF,SAAA,GACAI,SAAA,EACAS,UAAA,EACAJ,UACA5B,MAAA,OACAiC,SAAA,OACA/B,SAAA,EAAAF,MAAA,OAAAkC,MAAA,OAAAC,MAAA,MAGAC,WAAA,CACAC,YAAA,kBAAAC,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACAC,OAAA,kBAAAJ,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,gBAEAE,QAAA,CACAtC,gBADA,SACA6B,GACAzC,KAAAwC,SAAAC,GAEAU,WAJA,SAIAV,GACAzC,KAAA4B,YAAAa,EACAzC,KAAAgC,WAEAoB,cARA,SAQAX,GACAzC,KAAA4B,YAAAa,EACAzC,KAAAgC,WAEAC,YAZA,SAYAQ,GACAzC,KAAA4B,YAAAa,EAAAd,WAEAK,QAfA,WAeA,IAAAqB,EAAArD,KAEAsD,EAAAtD,KACAuD,EAAAvD,KAAAwD,SAAA,CACAC,MAAA,EACAC,KAAA,QACAC,QAAA,kBACAC,WAAA,uBAEAC,EAAA,CACAC,QAAA,KACAC,WAAA/D,KAAA4B,YAAA,GAAA5B,KAAA0B,SACAsC,eAAAhE,KAAA0B,UAEAuC,OAAAC,EAAA,KAAAD,CAAA,sBAAAJ,GACAd,KAAA,SAAAoB,GAKA,IAAAC,EAAAD,EAAAtD,KAAAuD,OACAd,EAAAxB,SAAAsC,EAAAC,WACA,IAAAC,EAAA,GAGAF,EAAA5D,MAAA+D,QAAA,SAAAC,GACA,IAAAC,EAAA,GACAA,EAAAC,GAAAF,EAAAE,GACAD,EAAAE,GAAAH,EAAAG,GACAF,EAAAG,KAAAJ,EAAAI,KACAH,EAAAI,KAAAL,EAAAK,KACAJ,EAAAK,KAAAN,EAAAM,KACAL,EAAAM,GAAAP,EAAAO,GACAN,EAAAO,KAAAR,EAAAQ,KACAP,EAAAQ,GAAAT,EAAAS,GACAR,EAAAS,KAAAV,EAAAU,KACAZ,EAAAa,KAAAV,KAEApB,EAAAvC,UAAA,GAEAuC,EAAAvC,UAAAwD,EAEAjB,EAAA5C,SAAA8D,QAAA,SAAAC,GACAA,EAAA9B,MACA8B,EAAA/B,QAAAa,EAAAd,SAAA4B,EAAAC,WAAAG,EAAA9B,QAEAa,EAAA6B,UAEAC,MAAA,WACA9B,EAAA6B,YAIAE,SAAA,CACAC,aADA,WAEA,OAAAvF,KAAAwC,UACA,WACA,OAAAxC,KAAAwF,aAAAC,KAGA,WAGAC,QAAA,WACA1F,KAAAgC,YCpJ8V2D,EAAA,cCO9VC,EAAgB3B,OAAA4B,EAAA,KAAA5B,CACd0B,EACA7F,EACAoC,GACF,EACA,KACA,WACA,MAIe4D,EAAA,WAAAF","file":"js/chunk-2d21d088.a8a8f46b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fullscreen\"},[_c('tableHeader',{staticClass:\"header\",attrs:{\"title\":_vm.title,\"items\":_vm.tabItems},on:{\"tabChange\":_vm.handelTabChange}}),_c('el-table',{attrs:{\"data\":_vm.tabledata,\"border\":\"\",\"stripe\":\"\"}},_vm._l((_vm.columns),function(col){return _c('el-table-column',{key:col.id,attrs:{\"prop\":col.id,\"label\":col.label,\"width\":col.width}})}),1),_c('Paging',{ref:\"Paging\",attrs:{\"PageSize\":_vm.pageSize,\"PageIndex\":_vm.currentPage,\"TotalNum\":_vm.totalNum},on:{\"Refresh\":_vm.GetData,\"RefreshPage\":_vm.RefreshPage}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n  <div class=\"fullscreen\">\r\n    <!-- 标题栏目 -->\r\n    <tableHeader class=\"header\" :title=\"title\" :items=\"tabItems\" @tabChange=\"handelTabChange\"/>\r\n    <!-- 表格 -->\r\n    <el-table :data=\"tabledata\" border stripe>\r\n      <el-table-column\r\n        v-for=\"col in columns\"\r\n        :prop=\"col.id\"\r\n        :key=\"col.id\"\r\n        :label=\"col.label\"\r\n        :width=\"col.width\"\r\n      ></el-table-column>\r\n      <!-- <el-table-column label=\"操作\">\r\n        <template>\r\n        </template>\r\n      </el-table-column>-->\r\n    </el-table>\r\n    <!-- <el-pagination\r\n      @size-change=\"sizeChange\"\r\n      @current-change=\"currentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[20, 40, 80, 100]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"totalNum\"\r\n      background\r\n    ></el-pagination> -->\r\n    <!-- 底部分页 -->\r\n    <Paging :PageSize=\"pageSize\" :PageIndex=\"currentPage\" :TotalNum=\"totalNum\" @Refresh=\"GetData\" @RefreshPage=\"RefreshPage\" ref=\"Paging\" />\r\n    <!-- 底部分页 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 数据处理\r\nimport { GetAll } from '@/api/mission'\r\nconst columns = [\r\n  { id: '仓库', label: '仓库', width: 120, sort: false },\r\n  { id: '仓位', label: '仓位', width: 60, sort: false },\r\n  { id: '物料编码', label: '物料编码', width: 120, sort: false },\r\n  { id: '物料名称', label: '物料名称', sort: false },\r\n  { id: '规格型号', label: '规格型号', width: 330, sort: false },\r\n  { id: '单位', label: '单位', width: 100, sort: false },\r\n  { id: '辅助属性', label: '辅助属性', width: 100, sort: false },\r\n  { id: '批号', label: '批号', width: 100, sort: false },\r\n  { id: '库存数量', label: '库存数量', width: 100, sort: false }\r\n]\r\n// 派工单页面\r\nexport default {\r\n  name: 'Stock',\r\n  data () {\r\n    return {\r\n      tabledata: [],\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      totalNum: 0,\r\n      totalPage: 0,\r\n      columns,\r\n      title: '库存查询',\r\n      tabvalue: 'KCCX',\r\n      tabItems: [{ title: '库存查询', value: 'KCCX', count: 0 }]\r\n    }\r\n  },\r\n  components: {\r\n    tableHeader: () => import('@/components/tablePageHeader.vue'),\r\n    Paging: () => import('@/components/Common/Paging.vue')\r\n  },\r\n  methods: {\r\n    handelTabChange (value) {\r\n      this.tabvalue = value\r\n    },\r\n    sizeChange (value) {\r\n      this.currentPage = value\r\n      this.GetData()\r\n    },\r\n    currentChange (value) {\r\n      this.currentPage = value\r\n      this.GetData()\r\n    },\r\n    RefreshPage (value) {\r\n      this.currentPage = value.PageIndex\r\n    },\r\n    GetData () {\r\n      // if(obj!==\"undefined\"){this.currentPage=obj.PageIndex}\r\n      var _this = this\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: '数据加载中',\r\n        spinner: 'el-icon-loading',\r\n        background: 'rgba(0, 0, 0, 0.7)'\r\n      })\r\n      var obj = {\r\n        Sorting: '仓库',\r\n        SkipCount: (this.currentPage - 1) * this.pageSize,\r\n        MaxResultCount: this.pageSize\r\n      }\r\n      GetAll('VM_Inventory/GetAll', obj)\r\n        .then(res => {\r\n          // console.log(res); // 返回对象\r\n          // console.log(res.data.result.items); // 集合\r\n          // console.log(res.data.result.totalCount); // 总长度\r\n\r\n          var result = res.data.result // 集合\r\n          _this.totalNum = result.totalCount // 总长度\r\n          var TableList = [] // 集合\r\n\r\n          // 遍历返回集合 选取需要的\r\n          result.items.forEach(item => {\r\n            var TabaleObj = {} // 对象\r\n            TabaleObj.仓库 = item.仓库\r\n            TabaleObj.仓位 = item.仓位\r\n            TabaleObj.物料编码 = item.物料编码\r\n            TabaleObj.物料名称 = item.物料名称\r\n            TabaleObj.规格型号 = item.规格型号\r\n            TabaleObj.单位 = item.单位\r\n            TabaleObj.辅助属性 = item.辅助属性\r\n            TabaleObj.批号 = item.批号\r\n            TabaleObj.库存数量 = item.库存数量\r\n            TableList.push(TabaleObj)\r\n          })\r\n          this.tabledata = []\r\n          // 重新渲染列表\r\n          this.tabledata = TableList\r\n          //\r\n          this.tabItems.forEach(item => {\r\n            item.count =\r\n              item.value === _this.tabvalue ? result.totalCount : item.count\r\n          })\r\n          loading.close()\r\n        })\r\n        .catch(function () {\r\n          loading.close()\r\n        })\r\n    }\r\n  },\r\n  computed: {\r\n    columnHeader () {\r\n      switch (this.tabvalue) {\r\n        case 'KCCX': {\r\n          return this.tableColumns.KCCX\r\n        }\r\n      }\r\n      return ''\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.GetData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7701874e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7701874e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}