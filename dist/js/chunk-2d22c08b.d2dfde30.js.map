{"version":3,"sources":["webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/index.vue?d968","webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/tableColumns.js","webpack:///src/views/DispatchedWork/index.vue","webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/index.vue?85db","webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","modifiers","fullscreen","lock","staticClass","attrs","title","items","tabItems","on","tabChange","handelTabChange","data","tabledata","border","stripe","_l","col","key","id","prop","align","label","width","sortable","sort","fixed","scopedSlots","_u","fn","scope","item","num","staticStyle","text-align","plain","round","type","click","$event","handle","$index","row","_v","_s","ref","PageSize","pageSize","PageIndex","currentPage","TotalNum","totalNum","Refresh","GetData","RefreshPage","addSuccess","staticRenderFns","columns","receive","report","DispatchedWorkvue_type_script_lang_js_","fullscreenLoading","count","tabvalue","tableColumns","funmenu","show","ShowWhe","components","tableHeader","__webpack_require__","e","then","bind","OpenWork","AbnormalReportList","Picking","Report","ReportDetailed","Paging","methods","UpdCount","TaskQty","$store","state","forEach","tmp","strKey","total","index","_this2","_this","obj","console","log","FFinishAuxQty","汇报","FID","$refs","$confirm","confirmButtonText","cancelButtonText","Object","mission","res","success","$message","message","error","setTimeout","catch","finally","dispatch","StrKey","FSrcID","Show","showmenu","sizeChange","currentChange","_this3","操作者","FStatus","FClosed","Sorting","SkipCount","MaxResultCount","loading","$loading","text","spinner","background","result","totalCount","TableList","TabaleObj","fTranType","派工单号","设备","产品名称","规格型号","工序","生产日期","$moment","format","制单日期","fBillTime","派工","派工数量","汇报数量","合格","合格数量","不合格","不合格数量","fid","fsrcID","班次","push","close","TestData","_this4","indexOf","created","mounted","computed","columnHeader","watch","views_DispatchedWorkvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,WAAA,EAAaC,KAAA,UAAAC,QAAA,4BAAAC,MAAAT,EAAA,kBAAAU,WAAA,oBAAAC,UAAA,CAA2HC,YAAA,EAAAC,MAAA,KAA+BC,YAAA,cAA2B,CAAAV,EAAA,eAAoBU,YAAA,SAAAC,MAAA,CAA4BC,MAAAhB,EAAAgB,MAAAC,MAAAjB,EAAAkB,UAAuCC,GAAA,CAAKC,UAAApB,EAAAqB,mBAAiCjB,EAAA,YAAiBW,MAAA,CAAOO,KAAAtB,EAAAuB,UAAAC,OAAA,GAAAC,OAAA,KAA8C,CAAAzB,EAAA0B,GAAA1B,EAAA,sBAAA2B,GAA0C,OAAAvB,EAAA,mBAA6BE,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAA,EAAAC,WAAA,UAA8DkB,IAAAD,EAAAE,GAAAd,MAAA,CAAoBe,KAAAH,EAAAE,GAAAE,MAAAJ,EAAAI,MAAAC,MAAAL,EAAAK,MAAAC,MAAAN,EAAAM,MAAAC,SAAAP,EAAAQ,UAA2F/B,EAAA,mBAAwBW,MAAA,CAAOiB,MAAA,KAAAD,MAAA,SAAAK,MAAA,QAAAH,MAAA,OAA4DI,YAAArC,EAAAsC,GAAA,EAAsBV,IAAA,UAAAW,GAAA,SAAAC,GAAiC,OAAAxC,EAAA0B,GAAA1B,EAAA,iBAAAyC,GAA2C,OAAArC,EAAA,aAAuBE,WAAA,EAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAgC,EAAA,KAAA/B,WAAA,cAAsEkB,IAAAa,EAAAC,IAAAC,YAAA,CAA4BC,aAAA,UAAsB7B,MAAA,CAAQ8B,MAAA,GAAAC,MAAA,GAAAC,KAAAN,EAAAM,MAAuC5B,GAAA,CAAK6B,MAAA,SAAAC,GAAyB,OAAAjD,EAAAkD,OAAAT,EAAAC,IAAAF,EAAAW,OAAAX,EAAAY,QAAsD,CAAApD,EAAAqD,GAAArD,EAAAsD,GAAAb,EAAAzB,mBAAqC,GAAAZ,EAAA,UAAmBmD,IAAA,SAAAxC,MAAA,CAAoByC,SAAAxD,EAAAyD,SAAAC,UAAA1D,EAAA2D,YAAAC,SAAA5D,EAAA6D,UAA4E1C,GAAA,CAAK2C,QAAA9D,EAAA+D,QAAAC,YAAAhE,EAAAgE,eAAqD5D,EAAA,YAAiBmD,IAAA,WAAApC,GAAA,CAAmB8C,WAAAjE,EAAA+D,WAA0B3D,EAAA,sBAA2BmD,IAAA,qBAAApC,GAAA,CAA6B8C,WAAAjE,EAAA+D,WAA0B3D,EAAA,WAAgBmD,IAAA,UAAApC,GAAA,CAAkB8C,WAAAjE,EAAA+D,WAA0B3D,EAAA,UAAemD,IAAA,SAAApC,GAAA,CAAiB8C,WAAAjE,EAAA+D,WAA0B3D,EAAA,kBAAuBmD,IAAA,iBAAApC,GAAA,CAAyB8C,WAAAjE,EAAA+D,YAA0B,IAC9uDG,EAAA,2BCDMC,EAAU,CACdC,QAAS,CAAC,CACRvC,GAAI,OACJG,MAAO,OACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,OACJG,MAAO,OACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,OACJG,MAAO,OACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,OACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAGT,CACEF,GAAI,UACJG,MAAO,UACPG,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,WAGTsC,OAAQ,CAAC,CACPxC,GAAI,OACJG,MAAO,OACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UACN,CACDF,GAAI,OACJG,MAAO,OACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,SACPG,UAAU,GAEZ,CACEL,GAAI,OACJG,MAAO,OACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,OACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPG,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,MACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,MACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,KACJG,MAAO,KACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,UAET,CACEF,GAAI,MACJG,MAAO,MACPC,MAAO,IACPE,MAAM,EACNJ,MAAO,YAKIoC,ICtFfG,EAAA,CACA/D,KAAA,iBAEAe,KAHA,WAIA,OACAiD,mBAAA,EACAvD,MAAA,OACAE,SAAA,CACA,CAAAF,MAAA,MAAAP,MAAA,UAAA+D,MAAA,EAAA5C,IAAA,QACA,CAAAZ,MAAA,MAAAP,MAAA,SAAA+D,MAAA,EAAA5C,IAAA,YAEAL,UAAA,GACAoC,YAAA,EACAF,SAAA,GACAI,SAAA,EACAY,SAAA,UACAC,eACAC,QAAA,CAQA,CACA5B,KAAA,GACAL,IAAA,EACA1B,MAAA,KACA4D,MAAA,EACAC,QAAA,aAEA,CACA9B,KAAA,UACAL,IAAA,EACA1B,MAAA,KACA4D,MAAA,EACAC,QAAA,aAEA,CACA9B,KAAA,SACAL,IAAA,EACA1B,MAAA,KACA4D,MAAA,EACAC,QAAA,sBAEA,CACA9B,KAAA,GACAL,IAAA,EACA1B,MAAA,KACA4D,MAAA,EACAC,QAAA,eAMAC,WAAA,CACAC,YAAA,kBAAAC,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACAC,SAAA,kBAAAJ,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACAE,mBAAA,kBAAAL,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACAG,QAAA,kBAAAN,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACAI,OAAA,kBAAAP,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACAK,eAAA,kBAAAR,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,eACAM,OAAA,kBAAAT,EAAAC,EAAA,kBAAAC,KAAAF,EAAAG,KAAA,gBAGAO,QAAA,CAEAC,SAFA,WAGA,IAAAC,EAAA3F,KAAA4F,OAAAC,MAAAF,gBACA3F,KAAAiB,SAAA6E,QAAA,SAAAC,GACAJ,EAAAG,QAAA,SAAAtD,GACAuD,EAAApE,MAAAa,EAAAwD,SACAD,EAAAxB,MAAA/B,EAAAyD,YAKAlC,YAZA,SAYAvD,GACAR,KAAA0D,YAAAlD,EAAAiD,WAEAI,QAfA,WAgBA7D,KAAA8D,WAGAb,OAAA,SAAAH,EAAAoD,EAAA/C,GAAA,IAAAgD,EAAAnG,KACAoG,EAAApG,KACAqG,EAAA,GAEA,OADAC,QAAAC,IAAAL,EAAA/C,GACAL,GAEA,OACAuD,EAAA,CAAAG,cAAA,EAAArD,EAAAsD,GAAAC,IAAAvD,EAAAuD,KACAN,EAAAO,MAAArB,OAAAX,KAAA0B,GACA,MAEA,OACAA,EAAA,CAAAzE,GAAA,GACAwE,EAAAO,MAAAtB,QAAAV,KAAA0B,GACA,MAEA,OAGArG,KAAA4G,SAAA,gBACAC,kBAAA,KACAC,iBAAA,KACAhE,KAAA,YAEAmC,KAAA,WACAmB,EAAA9B,mBAAA,EACAyC,OAAAC,EAAA,KAAAD,CAAA,yBAAAL,IAAAvD,EAAAuD,MACAzB,KAAA,SAAAgC,GACAA,EAAA5F,KAAA6F,SACAf,EAAAgB,SAAA,CACAC,QAAA,SACAtE,KAAA,YAEAsD,EAAAtC,YAEAqC,EAAAgB,SAAAE,MAAA,UACAC,WAAA,qBAGAC,MAAA,WACAD,WAAA,oBAEAE,QAAA,WACAF,WAAA,WACAlB,EAAA9B,mBAAA,GACA,KACA8B,EAAAR,OAAA6B,SAAA,iBAAAC,OAAA,MACAtB,EAAAV,eAGA6B,MAAA,cACA,MAEA,OACAlB,EAAA,CAAAK,IAAAvD,EAAAuD,IAAAiB,OAAAxE,EAAAwE,QACAvB,EAAAO,MAAAvB,mBAAAwC,KAAAvB,GACA,MAEA,OAEAD,EAAAO,MAAApB,eAAAqC,KAAAzE,GACA,MAEA,QACA,QAGA/B,gBAtFA,SAsFAZ,GACAR,KAAAwE,SAAAhE,EACAR,KAAA6H,WACA7H,KAAA8D,WAEAgE,WA3FA,SA2FAtH,KACAuH,cA5FA,SA4FAvH,KACAsD,QA7FA,WA6FA,IAAAkE,EAAAhI,KACAoG,EAAApG,KACAoG,EAAA9E,UAAA,GACA,IAAA+E,EAAA,CACA4B,MAAA,IACAC,QAAA,YAAAlI,KAAAwE,SAAA,IACA2D,QAAA,KACAC,QAAA,UACAC,WAAArI,KAAA0D,YAAA,GAAA1D,KAAAwD,SACA8E,eAAAtI,KAAAwD,UAEA+E,EAAAvI,KAAAwI,SAAA,CACA5H,MAAA,EACA6H,KAAA,QACAC,QAAA,kBACAC,WAAA,uBAGA5B,OAAAC,EAAA,KAAAD,CAAA,2BAAAV,GACApB,KAAA,SAAAgC,GACAA,EAAAC,QAEA,IAAA0B,EAAA3B,EAAA5F,KAAAuH,OACAZ,EAAApE,SAAAgF,EAAAC,WAEA,IAAAC,EAAA,GAGAF,EAAA5H,MAAA8E,QAAA,SAAAtD,GACA,IAAAuG,EAAA,GACAA,EAAAC,UAAAxG,EAAAwG,UACAD,EAAAE,KAAAzG,EAAAyG,KACAF,EAAAG,GAAA1G,EAAA0G,GACAH,EAAAI,KAAA3G,EAAA2G,KACAJ,EAAAI,KAAA3G,EAAA2G,KACAJ,EAAAK,KAAA5G,EAAA4G,KACAL,EAAAM,GAAA7G,EAAA6G,GACAN,EAAAO,KAAAtB,EAAAuB,QAAA/G,EAAA8G,MAAAE,OAAA,cACAT,EAAAU,KAAAzB,EAAAuB,QAAA/G,EAAAkH,WAAAF,OAAA,cACAT,EAAAY,GAAAnH,EAAAoH,KACAb,EAAAtC,GAAAjE,EAAAqH,KACAd,EAAAe,GAAAtH,EAAAuH,KACAhB,EAAAiB,IAAAxH,EAAAyH,MACAlB,EAAArC,IAAAlE,EAAA0H,IACAnB,EAAApB,OAAAnF,EAAA2H,OACApB,EAAAqB,GAAA5H,EAAA4H,GACAtB,EAAAuB,KAAAtB,KAGAf,EAAA1G,UAAAwH,EAEAd,EAAA/G,SAAA6E,QAAA,SAAAtD,GACAA,EAAA+B,MACA/B,EAAAhC,QAAA4F,EAAA5B,SAAAoE,EAAAC,WAAArG,EAAA+B,UAGAgD,MAAA,cACAC,QAAA,WACAe,EAAA+B,WAGAC,SA1JA,WA2JA,IAAAxB,EAAA,CACAC,UAAA,EACAC,OAAA,KACAC,KAAA,QACAC,OAAA,MACAJ,EAAAI,KAAA,IACAJ,EAAAK,KAAA,KACAL,EAAAM,GAAA,KACAN,EAAAO,KAAA,KACAP,EAAAY,GAAA,KACAZ,EAAAtC,GAAA,KACAsC,EAAArC,IAAA,KACAqC,EAAApB,OAAA,KACA3H,KAAAsB,UAAA+I,KAAAtB,IAGAlB,SA3KA,WA2KA,IAAA2C,EAAAxK,KACAA,KAAA0E,QAAAoB,QAAA,SAAAtD,GACAA,EAAAmC,KAAAnC,EAAAoC,QAAA6F,QAAAD,EAAAhG,WAAA,MAKAkG,QAAA,WACA1K,KAAA0F,YAGAiF,QAAA,WACA3K,KAAA8D,UACA9D,KAAA6H,YAGA+C,SAAA,CACAC,aADA,WAEA,OAAA7K,KAAAwE,UACA,cACA,OAAAxE,KAAAyE,aAAAN,QAEA,aACA,OAAAnE,KAAAyE,aAAAL,OAEA,QACA,YAKA0G,MAAA,ICvU8VC,EAAA,cCO9VC,EAAgBjE,OAAAkE,EAAA,KAAAlE,CACdgE,EACAjL,EACAmE,GACF,EACA,KACA,KACA,MAIeiH,EAAA,WAAAF","file":"js/chunk-2d22c08b.d2dfde30.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"fullscreen\"},[_c('tableHeader',{staticClass:\"header\",attrs:{\"title\":_vm.title,\"items\":_vm.tabItems},on:{\"tabChange\":_vm.handelTabChange}}),_c('el-table',{attrs:{\"data\":_vm.tabledata,\"border\":\"\",\"stripe\":\"\"}},[_vm._l((_vm.columnHeader),function(col){return _c('el-table-column',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],key:col.id,attrs:{\"prop\":col.id,\"align\":col.align,\"label\":col.label,\"width\":col.width,\"sortable\":col.sort}})}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"fixed\":\"right\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((_vm.funmenu),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.show),expression:\"item.show\"}],key:item.num,staticStyle:{\"text-align\":\"center\"},attrs:{\"plain\":\"\",\"round\":\"\",\"type\":item.type},on:{\"click\":function($event){return _vm.handle(item.num,scope.$index, scope.row)}}},[_vm._v(_vm._s(item.title))])})}}])})],2),_c('Paging',{ref:\"Paging\",attrs:{\"PageSize\":_vm.pageSize,\"PageIndex\":_vm.currentPage,\"TotalNum\":_vm.totalNum},on:{\"Refresh\":_vm.GetData,\"RefreshPage\":_vm.RefreshPage}}),_c('OpenWork',{ref:\"OpenWork\",on:{\"addSuccess\":_vm.GetData}}),_c('AbnormalReportList',{ref:\"AbnormalReportList\",on:{\"addSuccess\":_vm.GetData}}),_c('Picking',{ref:\"Picking\",on:{\"addSuccess\":_vm.GetData}}),_c('Report',{ref:\"Report\",on:{\"addSuccess\":_vm.GetData}}),_c('ReportDetailed',{ref:\"ReportDetailed\",on:{\"addSuccess\":_vm.GetData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const columns = {\r\n  receive: [{\r\n    id: '派工单号',\r\n    label: '派工单号',\r\n    width: 220,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '设备',\r\n    label: '设备',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '班次',\r\n    label: '班次',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '生产日期',\r\n    label: '生产日期',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '制单日期',\r\n    label: '制单日期',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '产品名称',\r\n    label: '产品',\r\n    width: 220,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '工序',\r\n    label: '工序',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n\r\n  {\r\n    id: '计划开工/完工',\r\n    label: '计划开工/完工',\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '派工',\r\n    label: '派工',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  }\r\n  ],\r\n  report: [{\r\n    id: '派工单号',\r\n    label: '派工单号',\r\n    width: 250,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '设备',\r\n    label: '设备',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '班次',\r\n    label: '班次',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  }, {\r\n    id: '生产日期',\r\n    label: '生产日期',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center',\r\n    sortable: true\r\n  },\r\n  {\r\n    id: '制单日期',\r\n    label: '制单日期',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '产品名称',\r\n    label: '产品',\r\n    width: 220,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '工序',\r\n    label: '工序',\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '派工',\r\n    label: '派工数',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '汇报',\r\n    label: '汇报数',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '合格',\r\n    label: '合格',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '不合格',\r\n    label: '不合格',\r\n    width: 120,\r\n    sort: true,\r\n    align: 'center'\r\n  }\r\n  ]\r\n}\r\n\r\nexport default columns\r\n","\r\n<template>\r\n  <!--主体-->\r\n  <div class=\"fullscreen\" v-loading.fullscreen.lock=\"fullscreenLoading\">\r\n    <!--头部-->\r\n    <tableHeader class=\"header\" :title=\"title\" :items=\"tabItems\" @tabChange=\"handelTabChange\" />\r\n    <!--表格-->\r\n    <el-table :data=\"tabledata\" border stripe>\r\n      <el-table-column\r\n        v-for=\"col in columnHeader\"\r\n        :prop=\"col.id\"\r\n        :key=\"col.id\"\r\n        :align=\"col.align\"\r\n        :label=\"col.label\"\r\n        :width=\"col.width\"\r\n        v-show=\"false\" :sortable=\"col.sort\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" width=\"300\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            style=\"text-align: center\"\r\n            plain\r\n            round\r\n            v-for=\"item in funmenu\"\r\n            v-show=\"item.show\"\r\n            :key=\"item.num\"\r\n            @click=\"handle(item.num,scope.$index, scope.row)\"\r\n            :type=\"item.type\"\r\n          >{{item.title}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n   \r\n    <Paging\r\n      :PageSize=\"pageSize\"\r\n      :PageIndex=\"currentPage\"\r\n      :TotalNum=\"totalNum\"\r\n      @Refresh=\"GetData\"\r\n      @RefreshPage=\"RefreshPage\"\r\n      ref=\"Paging\"\r\n    />\r\n    <!-- 底部分页 -->\r\n    <!--其他页面模板-->\r\n    <OpenWork ref=\"OpenWork\" @addSuccess=\"GetData\" />\r\n    <AbnormalReportList ref=\"AbnormalReportList\" @addSuccess=\"GetData\" />\r\n    <Picking ref=\"Picking\" @addSuccess=\"GetData\" />\r\n    <Report ref=\"Report\" @addSuccess=\"GetData\" />\r\n    <ReportDetailed ref=\"ReportDetailed\" @addSuccess=\"GetData\" />\r\n    <!--弹框-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 数据处理\r\nimport { GetAll, DataAddOrPUT } from \"@/api/mission\";\r\n// 表格列\r\nimport columns from \"./tableColumns.js\";\r\n// 派工单页面\r\nexport default {\r\n  name: \"DispatchedWork\",\r\n  // 初始化数据\r\n  data() {\r\n    return {\r\n      fullscreenLoading: false,\r\n      title: \"派工任务\", // 标题\r\n      tabItems: [\r\n        { title: \"待开工\", value: \"receive\", count: 0, key: \"PGRW\" },\r\n        { title: \"待汇报\", value: \"report\", count: 0, key: \"PGRWDHB\" }\r\n      ],\r\n      tabledata: [], // 数据集合\r\n      currentPage: 1, // 当前页数\r\n      pageSize: 20, // 页容量\r\n      totalNum: 0, // 总条数\r\n      tabvalue: \"receive\", // 选中显示卡\r\n      tableColumns: columns, // 表格的列\r\n      funmenu: [\r\n        // {\r\n        //  type: '',\r\n        //  num: 0,\r\n        //  title: '汇报',\r\n        //  show: true,\r\n        //  ShowWhe: ['report']\r\n        // },\r\n        {\r\n          type: \"\",\r\n          num: 1,\r\n          title: \"领料\",\r\n          show: true,\r\n          ShowWhe: [\"receive\"]\r\n        },\r\n        {\r\n          type: \"primary\",\r\n          num: 2,\r\n          title: \"开工\",\r\n          show: true,\r\n          ShowWhe: [\"receive\"]\r\n        },\r\n        {\r\n          type: \"danger\",\r\n          num: 3,\r\n          title: \"异常\",\r\n          show: false,\r\n          ShowWhe: [\"report\", \"receive\"]\r\n        },\r\n        {\r\n          type: \"\",\r\n          num: 4,\r\n          title: \"汇报\",\r\n          show: true,\r\n          ShowWhe: [\"report\"]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  // 组件\r\n  components: {\r\n    tableHeader: () => import(\"@/components/tablePageHeader.vue\"),\r\n    OpenWork: () => import(\"./OpenWork\"),\r\n    AbnormalReportList: () => import(\"./AbnormalReportList\"),\r\n    Picking: () => import(\"./Picking\"),\r\n    Report: () => import(\"./Report\"),\r\n    ReportDetailed: () => import(\"./ReportDetailed\"),\r\n    Paging: () => import(\"@/components/Common/Paging.vue\")\r\n  },\r\n  // 声明方法\r\n  methods: {\r\n    // 标题数量\r\n    UpdCount() {\r\n      var TaskQty = this.$store.state.TaskQty.TaskQty;\r\n      this.tabItems.forEach(tmp => {\r\n        TaskQty.forEach(item => {\r\n          if (tmp.key === item.strKey) {\r\n            tmp.count = item.total;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    RefreshPage(value) {\r\n      this.currentPage = value.PageIndex;\r\n    },\r\n    Refresh() {\r\n      this.GetData();\r\n    },\r\n    // 点击操作\r\n    handle: function(type, index, row) {\r\n      var _this = this;\r\n      var obj = {};\r\n      console.log(index, row);\r\n      switch (type) {\r\n        // 汇报\r\n        case 0:\r\n          obj = { FFinishAuxQty: row.汇报 * 1, FID: row.FID };\r\n          _this.$refs.Report.show(obj);\r\n          break;\r\n        // 领料\r\n        case 1:\r\n          obj = { id: 0 };\r\n          _this.$refs.Picking.show(obj);\r\n          break;\r\n        // 开工\r\n        case 2:\r\n          // obj = { FID: row.FID, FSrcID: row.FSrcID };\r\n          // _this.$refs.OpenWork.show(obj);\r\n          this.$confirm(\"是否确认开工?\", \"提示\", {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\"\r\n          })\r\n            .then(() => {\r\n              _this.fullscreenLoading = true;\r\n              DataAddOrPUT(\"ICMODispBill/OpenWork\", { FID: row.FID })\r\n                .then(res => {\r\n                  if (res.data.success) {\r\n                    this.$message({\r\n                      message: \"标记开工成功\",\r\n                      type: \"success\"\r\n                    });\r\n                    _this.GetData();\r\n                  } else {\r\n                    this.$message.error(\"标记开工失败\");\r\n                    setTimeout(() => {}, 2000);\r\n                  }\r\n                })\r\n                .catch(function() {\r\n                  setTimeout(() => {}, 2000);\r\n                })\r\n                .finally(() => {\r\n                  setTimeout(() => {\r\n                    _this.fullscreenLoading = false;\r\n                  }, 2000);\r\n                  _this.$store.dispatch(\"GetAllTaskQty\", { StrKey: \"*\" });\r\n                  _this.UpdCount();\r\n                });\r\n            })\r\n            .catch(() => {});\r\n          break;\r\n        // 异常\r\n        case 3:\r\n          obj = { FID: row.FID, FSrcID: row.FSrcID };\r\n          _this.$refs.AbnormalReportList.Show(obj);\r\n          break;\r\n        // 汇报明细\r\n        case 4:\r\n          // obj = { ICMODispBillID: row.FID, FSrcID: row.FSrcID }\r\n          _this.$refs.ReportDetailed.Show(row);\r\n          break;\r\n        // 默认提示功能尚未开发\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    handelTabChange(value) {\r\n      this.tabvalue = value;\r\n      this.showmenu();\r\n      this.GetData();\r\n    },\r\n    sizeChange(value) {},\r\n    currentChange(value) {},\r\n    GetData() {\r\n      var _this = this;\r\n      _this.tabledata = [];\r\n      var obj = {\r\n        操作者: \"1\",\r\n        FStatus: this.tabvalue === \"receive\" ? 0 : 1,\r\n        FClosed: null,\r\n        Sorting: \"FClosed\",\r\n        SkipCount: (this.currentPage - 1) * this.pageSize,\r\n        MaxResultCount: this.pageSize\r\n      };\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: \"数据加载中\",\r\n        spinner: \"el-icon-loading\",\r\n        background: \"rgba(0, 0, 0, 0.7)\"\r\n      });\r\n\r\n      GetAll(\"VW_MODispBillList/GetAll\", obj)\r\n        .then(res => {\r\n          if (res.success) {\r\n          }\r\n          var result = res.data.result; // 集合\r\n          this.totalNum = result.totalCount; // 总长度\r\n\r\n          var TableList = []; // 集合\r\n\r\n          // 遍历返回集合 选取需要的\r\n          result.items.forEach(item => {\r\n            var TabaleObj = {}; // 对象\r\n            TabaleObj.fTranType = item.fTranType;\r\n            TabaleObj.派工单号 = item.派工单号;\r\n            TabaleObj.设备 = item.设备;\r\n            TabaleObj.产品名称 = item.产品名称;\r\n            TabaleObj.产品名称 = item.产品名称;\r\n            TabaleObj.规格型号 = item.规格型号;\r\n            TabaleObj.工序 = item.工序;\r\n            TabaleObj.生产日期 = this.$moment(item.生产日期).format('YYYY-MM-DD');\r\n            TabaleObj.制单日期=this.$moment(item.fBillTime).format('YYYY-MM-DD');\r\n            TabaleObj.派工 = item.派工数量;\r\n            TabaleObj.汇报 = item.汇报数量;\r\n            TabaleObj.合格 = item.合格数量;\r\n            TabaleObj.不合格 = item.不合格数量;\r\n            TabaleObj.FID = item.fid;\r\n            TabaleObj.FSrcID = item.fsrcID;\r\n            TabaleObj.班次 = item.班次;\r\n            TableList.push(TabaleObj);\r\n          });\r\n          // 重新渲染列表\r\n          this.tabledata = TableList;\r\n          //\r\n          this.tabItems.forEach(item => {\r\n            item.count =\r\n              item.value === _this.tabvalue ? result.totalCount : item.count;\r\n          });\r\n        })\r\n        .catch(function() {})\r\n        .finally(() => {\r\n          loading.close();\r\n        });\r\n    },\r\n    TestData() {\r\n      var TabaleObj = {}; // 对象\r\n      TabaleObj.fTranType = 1;\r\n      TabaleObj.派工单号 = 3213;\r\n      TabaleObj.设备 = 4132431;\r\n      TabaleObj.产品名称 = 4321;\r\n      TabaleObj.产品名称 = 432;\r\n      TabaleObj.规格型号 = 5234;\r\n      TabaleObj.工序 = 5364;\r\n      TabaleObj.生产日期 = 7654;\r\n      TabaleObj.派工 = 7654;\r\n      TabaleObj.汇报 = 7654;\r\n      TabaleObj.FID = 7654;\r\n      TabaleObj.FSrcID = 5634;\r\n      this.tabledata.push(TabaleObj);\r\n    },\r\n    // 显示菜单\r\n    showmenu() {\r\n      this.funmenu.forEach(item => {\r\n        item.show = item.ShowWhe.indexOf(this.tabvalue) >= 0;\r\n      });\r\n    }\r\n  },\r\n  // 页面渲染前 执行\r\n  created: function() {\r\n    this.UpdCount();\r\n  },\r\n  // 页面渲染后 执行\r\n  mounted: function() {\r\n    this.GetData();\r\n    this.showmenu();\r\n  },\r\n  // 页面渲染后 执行\r\n  computed: {\r\n    columnHeader() {\r\n      switch (this.tabvalue) {\r\n        case \"receive\":\r\n          return this.tableColumns.receive;\r\n        // break\r\n        case \"report\":\r\n          return this.tableColumns.report;\r\n        // break\r\n        default:\r\n          return \"\";\r\n      }\r\n    }\r\n  },\r\n  //\r\n  watch: {}\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=02ae89a1&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}