{"version":3,"sources":["webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/AbnormalReportList.vue?00ca","webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/AbnormalReportList.vue?cf41","webpack:///src/views/DispatchedWork/AbnormalReportList.vue","webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/AbnormalReportList.vue?491a","webpack:///D:/NodeJS/JITInfomationSys_PAD/src/views/DispatchedWork/AbnormalReportList.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AbnormalReportList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AbnormalReportList_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","title","FromStyle","visible","dialogVisible","width","before-close","handleClose","on","update:visible","$event","data","DataSource","border","stripe","_l","col","key","id","prop","label","fixed","scopedSlots","_u","fn","scope","item","num","plain","round","type","click","Handle","$index","row","_v","_s","staticStyle","text-align","padding-top","AddICException","ref","addSuccess","GetDataSource","staticRenderFns","column","sort","AbnormalReportListvue_type_script_lang_js_","components","AbnormalReport","e","then","bind","from","FID","FSrcID","loading","funmenu","show","methods","Hide","Show","obj","ShowLod","HideLod","ShowMenu","forEach","ShowWhe","indexOf","index","_this","$refs","Object","mission","res","success","DS","result","tmp","fBiller","fRemark","fRecoverTime","$moment","format","fTime","fid","fSrcID","push","catch","mounted","DispatchedWork_AbnormalReportListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-1f2e69a9.98b1fbee.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbnormalReportList.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbnormalReportList.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"title\":_vm.FromStyle.title,\"visible\":_vm.dialogVisible,\"width\":_vm.FromStyle.width,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-table',{attrs:{\"data\":_vm.DataSource,\"border\":\"\",\"stripe\":\"\"}},[_vm._l((_vm.column),function(col){return _c('el-table-column',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],key:col.id,attrs:{\"prop\":col.id,\"label\":col.label,\"width\":col.width}})}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((_vm.funmenu),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.show),expression:\"item.show\"}],key:item.num,attrs:{\"plain\":\"\",\"round\":\"\",\"type\":item.type},on:{\"click\":function($event){return _vm.Handle(item.num,scope.$index, scope.row)}}},[_vm._v(_vm._s(item.title))])})}}])})],2),_c('div',{staticStyle:{\"text-align\":\"right\",\"padding-top\":\"30px\"}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.AddICException()}}},[_vm._v(\"添加异常\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取消\")])],1),_c('AbnormalReport',{ref:\"AbnormalReport\",on:{\"addSuccess\":_vm.GetDataSource}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 模态框 -->\r\n  <el-dialog\r\n    :title=\"FromStyle.title\"\r\n    :visible.sync=\"dialogVisible\"\r\n    :width=\"FromStyle.width\"\r\n    :before-close=\"handleClose\"\r\n    v-loading=\"loading\"\r\n  >\r\n    <!-- 表格 -->\r\n    <el-table :data=\"DataSource\" border stripe>\r\n      <!-- 列 -->\r\n      <el-table-column\r\n        v-for=\"col in column\"\r\n        :prop=\"col.id\"\r\n        :key=\"col.id\"\r\n        :label=\"col.label\"\r\n        :width=\"col.width\"\r\n        v-show=\"false\"\r\n      ></el-table-column>\r\n      <!-- 操作功能 -->\r\n      <el-table-column label=\"操作\" fixed=\"right\">\r\n        <!-- 生成操作按钮 -->\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            plain\r\n            round\r\n            v-for=\"item in funmenu\"\r\n            v-show=\"item.show\"\r\n            :key=\"item.num\"\r\n            @click=\"Handle(item.num,scope.$index, scope.row)\"\r\n            :type=\"item.type\"\r\n          >{{item.title}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 添加异常 -->\r\n    <div style=\"text-align:right;padding-top: 30px;\">\r\n      <el-button type=\"danger\" @click=\"AddICException()\">添加异常</el-button>\r\n      <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n    </div>\r\n    <AbnormalReport ref=\"AbnormalReport\" @addSuccess=\"GetDataSource\"/>\r\n  </el-dialog>\r\n</template>\r\n<!-- 脚本 -->\r\n<script>\r\n// 列\r\n// 数据处理\r\nimport {\r\n  GetAll\r\n} from '@/api/mission'\r\nconst column = [\r\n  { id: 'fRemark', label: '异常原因', width: 200, sort: false },\r\n  { id: 'fBiller', label: '报告人', width: 90, sort: false },\r\n  { id: 'fTime', label: '报告时间', width: 160, sort: false },\r\n  { id: 'fRecoverTime', label: '回复时间', width: 160, sort: false }\r\n]\r\n//\r\nexport default {\r\n  components: { AbnormalReport: () => import('./AbnormalReport') },\r\n  data () {\r\n    return {\r\n      from: {\r\n        FID: '',\r\n        FSrcID: ''\r\n      },\r\n      // 加载框\r\n      loading: false,\r\n      // 列\r\n      column,\r\n      // 模态框样式\r\n      FromStyle: {\r\n        width: '80%',\r\n        title: '汇报明细'\r\n      },\r\n      // 是否显示当前窗体\r\n      dialogVisible: false,\r\n      // 操作功能\r\n      funmenu: [\r\n        {\r\n          type: '',\r\n          num: 0,\r\n          title: '修改异常',\r\n          show: true\r\n        }\r\n      ],\r\n      // 数据源\r\n      DataSource: []\r\n    }\r\n  },\r\n  // 所有方法\r\n  methods: {\r\n    handleClose () {\r\n      this.Hide()\r\n    },\r\n    // 显示窗体\r\n    Show (obj) {\r\n      this.dialogVisible = true\r\n      this.from.FID = obj.FID\r\n      this.from.FSrcID = obj.FSrcID\r\n      this.GetDataSource(obj)\r\n    },\r\n    // 隐藏窗体\r\n    Hide () {\r\n      this.dialogVisible = false\r\n    },\r\n    // 显示加载框\r\n    ShowLod () {\r\n      this.loading = true\r\n    },\r\n    // 隐藏加载框\r\n    HideLod () {\r\n      this.loading = false\r\n    },\r\n    // 显示菜单\r\n    ShowMenu () {\r\n      this.funmenu.forEach(item => {\r\n        item.show = item.ShowWhe.indexOf('1') >= 0\r\n      })\r\n    },\r\n    // 点击操作\r\n    Handle: function (type, index, row) {\r\n      var _this = this\r\n      var obj = {}\r\n      // console.log(index, row);\r\n      switch (type) {\r\n        // 修改异常\r\n        case 0:\r\n          obj = { FID: row.FID, FSrcID: row.FSrcID }\r\n          _this.$refs.AbnormalReport.show(obj)\r\n          break\r\n        // 默认提示功能尚未开发\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    // 添加异常\r\n    AddICException () {\r\n      var _this = this\r\n      var obj = { FSrcID: _this.from.FID }\r\n      _this.$refs.AbnormalReport.show(obj)\r\n    },\r\n    // 获取数据源\r\n    GetDataSource (obj) {\r\n      var _this = this\r\n      _this.ShowLod()\r\n      // obj 必须含有 任务单号ID\r\n      GetAll('ICException/GetAll', obj)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            var DS = []\r\n            res.data.result.forEach(item => {\r\n              var tmp = {}\r\n              tmp.fBiller = item.fBiller\r\n              tmp.fRemark = item.fRemark\r\n              tmp.fRecoverTime =\r\n                item.fRecoverTime === null\r\n                  ? ''\r\n                  : _this.$moment(item.fRecoverTime).format('YYYY-MM-DD HH:mm')\r\n              tmp.fTime =\r\n                item.fTime === null\r\n                  ? ''\r\n                  : _this.$moment(item.fTime).format('YYYY-MM-DD HH:mm')\r\n              tmp.FID = item.fid\r\n              tmp.FSrcID = item.fSrcID\r\n              DS.push(tmp)\r\n            })\r\n            _this.DataSource = DS\r\n          }\r\n          _this.HideLod()\r\n        })\r\n        .catch(function () {\r\n          _this.HideLod()\r\n        })\r\n    }\r\n  },\r\n  // 页面渲染后 执行\r\n  mounted: function () {}\r\n}\r\n</script>\r\n<style>\r\n.icon {\r\n  cursor: pointer;\r\n  position: relative;\r\n  padding: 0px 20px;\r\n  font-size: 25px;\r\n}\r\n.color_red {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbnormalReportList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AbnormalReportList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AbnormalReportList.vue?vue&type=template&id=5ee9ec5d&\"\nimport script from \"./AbnormalReportList.vue?vue&type=script&lang=js&\"\nexport * from \"./AbnormalReportList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AbnormalReportList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}