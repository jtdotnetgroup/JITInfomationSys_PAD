{"version":3,"sources":["webpack:///./src/views/DispatchedWork/index.vue?c698","webpack:///./src/views/DispatchedWork/tableColumns.js","webpack:///src/views/DispatchedWork/index.vue","webpack:///./src/views/DispatchedWork/index.vue?1a90","webpack:///./src/views/DispatchedWork/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","modifiers","fullscreen","lock","staticClass","attrs","title","items","tabItems","on","tabChange","handelTabChange","data","tabledata","border","stripe","_l","col","key","id","prop","align","label","width","fixed","scopedSlots","_u","fn","scope","item","num","staticStyle","text-align","plain","round","type","click","$event","handle","$index","row","_v","_s","ref","PageSize","pageSize","PageIndex","currentPage","TotalNum","totalNum","Refresh","GetData","RefreshPage","addSuccess","staticRenderFns","columns","receive","sort","report","DispatchedWorkvue_type_script_lang_js_","fullscreenLoading","count","tabvalue","tableColumns","funmenu","show","ShowWhe","components","tableHeader","__webpack_require__","e","then","bind","OpenWork","AbnormalReportList","Picking","Report","ReportDetailed","Paging","methods","UpdCount","TaskQty","$store","state","forEach","tmp","strKey","total","index","_this2","_this","obj","console","log","FFinishAuxQty","汇报","FID","$refs","$confirm","confirmButtonText","cancelButtonText","Object","mission","res","success","$message","message","error","setTimeout","catch","finally","dispatch","StrKey","FSrcID","Show","showmenu","sizeChange","currentChange","_this3","操作者","FStatus","FClosed","Sorting","SkipCount","MaxResultCount","loading","$loading","text","spinner","background","result","totalCount","TableList","TabaleObj","fTranType","派工单号","设备","产品名称","规格型号","工序","生产日期","$moment","format","派工","派工数量","汇报数量","合格","合格数量","不合格","不合格数量","fid","fsrcID","班次","push","close","TestData","_this4","indexOf","created","mounted","computed","columnHeader","watch","views_DispatchedWorkvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d22c08b.976e349c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],staticClass:\"fullscreen\"},[_c('tableHeader',{staticClass:\"header\",attrs:{\"title\":_vm.title,\"items\":_vm.tabItems},on:{\"tabChange\":_vm.handelTabChange}}),_c('el-table',{attrs:{\"data\":_vm.tabledata,\"border\":\"\",\"stripe\":\"\"}},[_vm._l((_vm.columnHeader),function(col){return _c('el-table-column',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],key:col.id,attrs:{\"prop\":col.id,\"align\":col.align,\"label\":col.label,\"width\":col.width}})}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"fixed\":\"right\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((_vm.funmenu),function(item){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.show),expression:\"item.show\"}],key:item.num,staticStyle:{\"text-align\":\"center\"},attrs:{\"plain\":\"\",\"round\":\"\",\"type\":item.type},on:{\"click\":function($event){return _vm.handle(item.num,scope.$index, scope.row)}}},[_vm._v(_vm._s(item.title))])})}}])})],2),_c('Paging',{ref:\"Paging\",attrs:{\"PageSize\":_vm.pageSize,\"PageIndex\":_vm.currentPage,\"TotalNum\":_vm.totalNum},on:{\"Refresh\":_vm.GetData,\"RefreshPage\":_vm.RefreshPage}}),_c('OpenWork',{ref:\"OpenWork\",on:{\"addSuccess\":_vm.GetData}}),_c('AbnormalReportList',{ref:\"AbnormalReportList\",on:{\"addSuccess\":_vm.GetData}}),_c('Picking',{ref:\"Picking\",on:{\"addSuccess\":_vm.GetData}}),_c('Report',{ref:\"Report\",on:{\"addSuccess\":_vm.GetData}}),_c('ReportDetailed',{ref:\"ReportDetailed\",on:{\"addSuccess\":_vm.GetData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const columns = {\r\n  receive: [{\r\n    id: '派工单号',\r\n    label: '派工单号',\r\n    width: 220,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '设备',\r\n    label: '设备',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '班次',\r\n    label: '班次',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  }, {\r\n    id: '生产日期',\r\n    label: '派工日期',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '产品名称',\r\n    label: '产品',\r\n    width: 220,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '工序',\r\n    label: '工序',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n\r\n  {\r\n    id: '计划开工/完工',\r\n    label: '计划开工/完工',\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '派工',\r\n    label: '派工',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  }\r\n  ],\r\n  report: [{\r\n    id: '派工单号',\r\n    label: '派工单号',\r\n    width: 250,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '设备',\r\n    label: '设备',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '班次',\r\n    label: '班次',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  }, {\r\n    id: '派工日期',\r\n    label: '生产日期',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '产品名称',\r\n    label: '产品',\r\n    width: 220,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '工序',\r\n    label: '工序',\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '派工',\r\n    label: '派工数',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '汇报',\r\n    label: '汇报数',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '合格',\r\n    label: '合格',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  },\r\n  {\r\n    id: '不合格',\r\n    label: '不合格',\r\n    width: 120,\r\n    sort: false,\r\n    align: 'center'\r\n  }\r\n  ]\r\n}\r\n\r\nexport default columns\r\n","\r\n<template>\r\n  <!--主体-->\r\n  <div class=\"fullscreen\" v-loading.fullscreen.lock=\"fullscreenLoading\">\r\n    <!--头部-->\r\n    <tableHeader class=\"header\" :title=\"title\" :items=\"tabItems\" @tabChange=\"handelTabChange\" />\r\n    <!--表格-->\r\n    <el-table :data=\"tabledata\" border stripe>\r\n      <el-table-column\r\n        v-for=\"col in columnHeader\"\r\n        :prop=\"col.id\"\r\n        :key=\"col.id\"\r\n        :align=\"col.align\"\r\n        :label=\"col.label\"\r\n        :width=\"col.width\"\r\n        v-show=\"false\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\" width=\"300\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n            style=\"text-align: center\"\r\n            plain\r\n            round\r\n            v-for=\"item in funmenu\"\r\n            v-show=\"item.show\"\r\n            :key=\"item.num\"\r\n            @click=\"handle(item.num,scope.$index, scope.row)\"\r\n            :type=\"item.type\"\r\n          >{{item.title}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- <el-pagination\r\n      @size-change=\"sizeChange\"\r\n      @current-change=\"currentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[20, 40, 80, 100]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"prev, pager, next\"\r\n      :total=\"totalNum\"\r\n      background\r\n    ></el-pagination>-->\r\n    <!-- 底部分页 -->\r\n    <Paging\r\n      :PageSize=\"pageSize\"\r\n      :PageIndex=\"currentPage\"\r\n      :TotalNum=\"totalNum\"\r\n      @Refresh=\"GetData\"\r\n      @RefreshPage=\"RefreshPage\"\r\n      ref=\"Paging\"\r\n    />\r\n    <!-- 底部分页 -->\r\n    <!--其他页面模板-->\r\n    <OpenWork ref=\"OpenWork\" @addSuccess=\"GetData\" />\r\n    <AbnormalReportList ref=\"AbnormalReportList\" @addSuccess=\"GetData\" />\r\n    <Picking ref=\"Picking\" @addSuccess=\"GetData\" />\r\n    <Report ref=\"Report\" @addSuccess=\"GetData\" />\r\n    <ReportDetailed ref=\"ReportDetailed\" @addSuccess=\"GetData\" />\r\n    <!--弹框-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 数据处理\r\nimport { GetAll, DataAddOrPUT } from \"@/api/mission\";\r\n// 表格列\r\nimport columns from \"./tableColumns.js\";\r\n// 派工单页面\r\nexport default {\r\n  name: \"DispatchedWork\",\r\n  // 初始化数据\r\n  data() {\r\n    return {\r\n      fullscreenLoading: false,\r\n      title: \"派工任务\", // 标题\r\n      tabItems: [\r\n        { title: \"待开工\", value: \"receive\", count: 0, key: \"PGRW\" },\r\n        { title: \"待汇报\", value: \"report\", count: 0, key: \"PGRWDHB\" }\r\n      ],\r\n      tabledata: [], // 数据集合\r\n      currentPage: 1, // 当前页数\r\n      pageSize: 20, // 页容量\r\n      totalNum: 0, // 总条数\r\n      tabvalue: \"receive\", // 选中显示卡\r\n      tableColumns: columns, // 表格的列\r\n      funmenu: [\r\n        // {\r\n        //  type: '',\r\n        //  num: 0,\r\n        //  title: '汇报',\r\n        //  show: true,\r\n        //  ShowWhe: ['report']\r\n        // },\r\n        {\r\n          type: \"\",\r\n          num: 1,\r\n          title: \"领料\",\r\n          show: true,\r\n          ShowWhe: [\"receive\"]\r\n        },\r\n        {\r\n          type: \"primary\",\r\n          num: 2,\r\n          title: \"开工\",\r\n          show: true,\r\n          ShowWhe: [\"receive\"]\r\n        },\r\n        {\r\n          type: \"danger\",\r\n          num: 3,\r\n          title: \"异常\",\r\n          show: false,\r\n          ShowWhe: [\"report\", \"receive\"]\r\n        },\r\n        {\r\n          type: \"\",\r\n          num: 4,\r\n          title: \"汇报\",\r\n          show: true,\r\n          ShowWhe: [\"report\"]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  // 组件\r\n  components: {\r\n    tableHeader: () => import(\"@/components/tablePageHeader.vue\"),\r\n    OpenWork: () => import(\"./OpenWork\"),\r\n    AbnormalReportList: () => import(\"./AbnormalReportList\"),\r\n    Picking: () => import(\"./Picking\"),\r\n    Report: () => import(\"./Report\"),\r\n    ReportDetailed: () => import(\"./ReportDetailed\"),\r\n    Paging: () => import(\"@/components/Common/Paging.vue\")\r\n  },\r\n  // 声明方法\r\n  methods: {\r\n    // 标题数量\r\n    UpdCount() {\r\n      var TaskQty = this.$store.state.TaskQty.TaskQty;\r\n      this.tabItems.forEach(tmp => {\r\n        TaskQty.forEach(item => {\r\n          if (tmp.key === item.strKey) {\r\n            tmp.count = item.total;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    RefreshPage(value) {\r\n      this.currentPage = value.PageIndex;\r\n    },\r\n    Refresh() {\r\n      this.GetData();\r\n    },\r\n    // 点击操作\r\n    handle: function(type, index, row) {\r\n      var _this = this;\r\n      var obj = {};\r\n      console.log(index, row);\r\n      switch (type) {\r\n        // 汇报\r\n        case 0:\r\n          obj = { FFinishAuxQty: row.汇报 * 1, FID: row.FID };\r\n          _this.$refs.Report.show(obj);\r\n          break;\r\n        // 领料\r\n        case 1:\r\n          obj = { id: 0 };\r\n          _this.$refs.Picking.show(obj);\r\n          break;\r\n        // 开工\r\n        case 2:\r\n          // obj = { FID: row.FID, FSrcID: row.FSrcID };\r\n          // _this.$refs.OpenWork.show(obj);\r\n          this.$confirm(\"是否确认开工?\", \"提示\", {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"warning\"\r\n          })\r\n            .then(() => {\r\n              _this.fullscreenLoading = true;\r\n              DataAddOrPUT(\"ICMODispBill/OpenWork\", { FID: row.FID })\r\n                .then(res => {\r\n                  if (res.data.success) {\r\n                    this.$message({\r\n                      message: \"标记开工成功\",\r\n                      type: \"success\"\r\n                    });\r\n                    _this.GetData();\r\n                  } else {\r\n                    this.$message.error(\"标记开工失败\");\r\n                    setTimeout(() => {}, 2000);\r\n                  }\r\n                })\r\n                .catch(function() {\r\n                  setTimeout(() => {}, 2000);\r\n                })\r\n                .finally(() => {\r\n                  setTimeout(() => {\r\n                    _this.fullscreenLoading = false;\r\n                  }, 2000);\r\n                  _this.$store.dispatch(\"GetAllTaskQty\", { StrKey: \"*\" });\r\n                  _this.UpdCount();\r\n                });\r\n            })\r\n            .catch(() => {});\r\n          break;\r\n        // 异常\r\n        case 3:\r\n          obj = { FID: row.FID, FSrcID: row.FSrcID };\r\n          _this.$refs.AbnormalReportList.Show(obj);\r\n          break;\r\n        // 汇报明细\r\n        case 4:\r\n          // obj = { ICMODispBillID: row.FID, FSrcID: row.FSrcID }\r\n          _this.$refs.ReportDetailed.Show(row);\r\n          break;\r\n        // 默认提示功能尚未开发\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    handelTabChange(value) {\r\n      this.tabvalue = value;\r\n      this.showmenu();\r\n      this.GetData();\r\n    },\r\n    sizeChange(value) {},\r\n    currentChange(value) {},\r\n    GetData() {\r\n      var _this = this;\r\n      _this.tabledata = [];\r\n      var obj = {\r\n        操作者: \"1\",\r\n        FStatus: this.tabvalue === \"receive\" ? 0 : 1,\r\n        FClosed: null,\r\n        Sorting: \"FClosed\",\r\n        SkipCount: (this.currentPage - 1) * this.pageSize,\r\n        MaxResultCount: this.pageSize\r\n      };\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: \"数据加载中\",\r\n        spinner: \"el-icon-loading\",\r\n        background: \"rgba(0, 0, 0, 0.7)\"\r\n      });\r\n\r\n      GetAll(\"VW_MODispBillList/GetAll\", obj)\r\n        .then(res => {\r\n          if (res.success) {\r\n          }\r\n          // console.log(res); // 返回对象\r\n          // console.log(res.data.result.items); // 集合\r\n          // console.log(res.data.result.totalCount); // 总长度\r\n\r\n          var result = res.data.result; // 集合\r\n          this.totalNum = result.totalCount; // 总长度\r\n\r\n          var TableList = []; // 集合\r\n\r\n          // 遍历返回集合 选取需要的\r\n          result.items.forEach(item => {\r\n            var TabaleObj = {}; // 对象\r\n            TabaleObj.fTranType = item.fTranType;\r\n            TabaleObj.派工单号 = item.派工单号;\r\n            TabaleObj.设备 = item.设备;\r\n            TabaleObj.产品名称 = item.产品名称;\r\n            TabaleObj.产品名称 = item.产品名称;\r\n            TabaleObj.规格型号 = item.规格型号;\r\n            TabaleObj.工序 = item.工序;\r\n            TabaleObj.生产日期 = this.$moment(item.生产日期).format('YYYY-MM-DD');\r\n            TabaleObj.派工 = item.派工数量;\r\n            TabaleObj.汇报 = item.汇报数量;\r\n            TabaleObj.合格 = item.合格数量;\r\n            TabaleObj.不合格 = item.不合格数量;\r\n            TabaleObj.FID = item.fid;\r\n            TabaleObj.FSrcID = item.fsrcID;\r\n            TabaleObj.班次 = item.班次;\r\n            TableList.push(TabaleObj);\r\n          });\r\n          // 重新渲染列表\r\n          this.tabledata = TableList;\r\n          //\r\n          this.tabItems.forEach(item => {\r\n            item.count =\r\n              item.value === _this.tabvalue ? result.totalCount : item.count;\r\n          });\r\n        })\r\n        .catch(function() {})\r\n        .finally(() => {\r\n          loading.close();\r\n        });\r\n    },\r\n    TestData() {\r\n      var TabaleObj = {}; // 对象\r\n      TabaleObj.fTranType = 1;\r\n      TabaleObj.派工单号 = 3213;\r\n      TabaleObj.设备 = 4132431;\r\n      TabaleObj.产品名称 = 4321;\r\n      TabaleObj.产品名称 = 432;\r\n      TabaleObj.规格型号 = 5234;\r\n      TabaleObj.工序 = 5364;\r\n      TabaleObj.生产日期 = 7654;\r\n      TabaleObj.派工 = 7654;\r\n      TabaleObj.汇报 = 7654;\r\n      TabaleObj.FID = 7654;\r\n      TabaleObj.FSrcID = 5634;\r\n      this.tabledata.push(TabaleObj);\r\n    },\r\n    // 显示菜单\r\n    showmenu() {\r\n      this.funmenu.forEach(item => {\r\n        item.show = item.ShowWhe.indexOf(this.tabvalue) >= 0;\r\n      });\r\n    }\r\n  },\r\n  // 页面渲染前 执行\r\n  created: function() {\r\n    this.UpdCount();\r\n  },\r\n  // 页面渲染后 执行\r\n  mounted: function() {\r\n    this.GetData();\r\n    this.showmenu();\r\n  },\r\n  // 页面渲染后 执行\r\n  computed: {\r\n    columnHeader() {\r\n      switch (this.tabvalue) {\r\n        case \"receive\":\r\n          return this.tableColumns.receive;\r\n        // break\r\n        case \"report\":\r\n          return this.tableColumns.report;\r\n        // break\r\n        default:\r\n          return \"\";\r\n      }\r\n    }\r\n  },\r\n  //\r\n  watch: {}\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7d9c27aa&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}